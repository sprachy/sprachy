/*! For license information please see worker.js.LICENSE.txt */
(()=>{var e={271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(819);class o extends r.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=i.get(this);if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}}r.defineEventAttribute(o.prototype,"abort");const i=new WeakMap;Object.defineProperties(o.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(o.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class a{constructor(){u.set(this,function(){const e=Object.create(o.prototype);return r.EventTarget.call(e),i.set(e,!1),e}())}get signal(){return s(this)}abort(){var e;e=s(this),!1===i.get(e)&&(i.set(e,!0),e.dispatchEvent({type:"abort"}))}}const u=new WeakMap;function s(e){const t=u.get(e);if(null==t)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return t}Object.defineProperties(a.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(a.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=a,t.AbortSignal=o,t.default=a,e.exports=a,e.exports.AbortController=e.exports.default=a,e.exports.AbortSignal=o},819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new WeakMap,r=new WeakMap;function o(e){const t=n.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function i(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function a(e,t){n.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(t);for(let e=0;e<r.length;++e){const t=r[e];t in this||Object.defineProperty(this,t,u(t))}}function u(e){return{get(){return o(this).event[e]},set(t){o(this).event[e]=t},configurable:!0,enumerable:!0}}function s(e){return{value(){const t=o(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function c(e){if(null==e||e===Object.prototype)return a;let t=r.get(e);return null==t&&(t=function(e,t){const n=Object.keys(t);if(0===n.length)return e;function r(t,n){e.call(this,t,n)}r.prototype=Object.create(e.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let o=0;o<n.length;++o){const i=n[o];if(!(i in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,i).value;Object.defineProperty(r.prototype,i,e?s(i):u(i))}}return r}(c(Object.getPrototypeOf(e)),e),r.set(e,t)),t}function f(e){return o(e).immediateStopped}function l(e,t){o(e).passiveListener=t}a.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath(){const e=o(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation(){const e=o(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=o(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault(){i(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(e){if(!e)return;const t=o(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!o(this).canceled},set returnValue(e){e||i(o(this))},initEvent(){}},Object.defineProperty(a.prototype,"constructor",{value:a,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(a.prototype,window.Event.prototype),r.set(window.Event.prototype,a));const p=new WeakMap;function d(e){return null!==e&&"object"==typeof e}function h(e){const t=p.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function y(e,t){Object.defineProperty(e,`on${t}`,function(e){return{get(){let t=h(this).get(e);for(;null!=t;){if(3===t.listenerType)return t.listener;t=t.next}return null},set(t){"function"==typeof t||d(t)||(t=null);const n=h(this);let r=null,o=n.get(e);for(;null!=o;)3===o.listenerType?null!==r?r.next=o.next:null!==o.next?n.set(e,o.next):n.delete(e):r=o,o=o.next;if(null!==t){const o={listener:t,listenerType:3,passive:!1,once:!1,next:null};null===r?n.set(e,o):r.next=o}},configurable:!0,enumerable:!0}}(t))}function v(e){function t(){m.call(this)}t.prototype=Object.create(m.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)y(t.prototype,e[n]);return t}function m(){if(!(this instanceof m)){if(1===arguments.length&&Array.isArray(arguments[0]))return v(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return v(e)}throw new TypeError("Cannot call a class as a function")}p.set(this,new Map)}m.prototype={addEventListener(e,t,n){if(null==t)return;if("function"!=typeof t&&!d(t))throw new TypeError("'listener' should be a function or an object.");const r=h(this),o=d(n),i=(o?Boolean(n.capture):Boolean(n))?1:2,a={listener:t,listenerType:i,passive:o&&Boolean(n.passive),once:o&&Boolean(n.once),next:null};let u=r.get(e);if(void 0===u)return void r.set(e,a);let s=null;for(;null!=u;){if(u.listener===t&&u.listenerType===i)return;s=u,u=u.next}s.next=a},removeEventListener(e,t,n){if(null==t)return;const r=h(this),o=(d(n)?Boolean(n.capture):Boolean(n))?1:2;let i=null,a=r.get(e);for(;null!=a;){if(a.listener===t&&a.listenerType===o)return void(null!==i?i.next=a.next:null!==a.next?r.set(e,a.next):r.delete(e));i=a,a=a.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=h(this),n=e.type;let r=t.get(n);if(null==r)return!0;const i=function(e,t){return new(c(Object.getPrototypeOf(t)))(e,t)}(this,e);let a=null;for(;null!=r;){if(r.once?null!==a?a.next=r.next:null!==r.next?t.set(n,r.next):t.delete(n):a=r,l(i,r.passive?r.listener:null),"function"==typeof r.listener)try{r.listener.call(this,i)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==r.listenerType&&"function"==typeof r.listener.handleEvent&&r.listener.handleEvent(i);if(f(i))break;r=r.next}return l(i,null),function(e,t){o(e).eventPhase=0}(i),function(e,t){o(e).currentTarget=null}(i),!i.defaultPrevented}},Object.defineProperty(m.prototype,"constructor",{value:m,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(m.prototype,window.EventTarget.prototype),t.defineEventAttribute=y,t.EventTarget=m,t.default=m,e.exports=m,e.exports.EventTarget=e.exports.default=m,e.exports.defineEventAttribute=y},550:(e,t,n)=>{"use strict";const r=n(271),o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0;o&&(void 0===o.AbortController&&(o.AbortController=r.AbortController),void 0===o.AbortSignal&&(o.AbortSignal=r.AbortSignal))},742:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],u=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,u)),f=0,l=u>0?a-4:a;for(n=0;n<l;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;return 2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[f++]=255&t),1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,u=0,s=r-o;u<s;u+=a)i.push(c(e,u,u+a>s?s:u+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=i.length;a<u;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],u=t;u<r;u+=3)o=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},489:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},u=e.split(o),s=i.decode||n,c=0;c<u.length;c++){var f=u[c],l=f.indexOf("=");if(!(l<0)){var p=f.substr(0,l).trim(),d=f.substr(++l,f.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),null==r[p]&&(r[p]=a(d,s))}}return r},t.q=function(e,t,n){var o=n||{},a=o.encode||r;if("function"!=typeof a)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var u=a(t);if(u&&!i.test(u))throw new TypeError("argument val is invalid");var s=e+"="+u;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");s+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");s+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(s+="; HttpOnly"),o.secure&&(s+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s};var n=decodeURIComponent,r=encodeURIComponent,o=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(t){return e}}},98:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;if(a)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=h(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n,r,o=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),g.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];b.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,n){return new Promise((function(r,i){var a=new _(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function s(){u.abort()}u.onload=function(){var e,t,n={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in u?u.responseURL:n.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;r(new b(o,n))},u.onerror=function(){i(new TypeError("Network request failed"))},u.ontimeout=function(){i(new TypeError("Network request failed"))},u.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},u.open(a.method,a.url,!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&o&&(u.responseType="blob"),a.headers.forEach((function(e,t){u.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",s),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",s)}),u.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=p,e.Request=_,e.Response=b),t.Headers=p,t.Request=_,t.Response=b,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},97:(e,t,n)=>{var r=n(541),o=n(555),i=n(168).parseJSON;e.exports=o.mergeObjects({Client:n(760),Expr:n(547),PageHelper:n(292),RequestResult:n(523),clientLogger:n(686),errors:n(908),values:n(885),query:r,parseJSON:i},r)},760:(e,t,n)=>{"use strict";var r=n(844),o=n(292),i=n(523),a=n(908),u=n(637),s=n(168),c=n(541),f=n(316),l=n(555),p=n(885),d=l.notifyAboutNewVersion();function h(e){var t,n,r,o=(n="Infinity"===(t=l.getEnvVariable("FAUNADB_HTTP2_SESSION_IDLE_TIME"))?1/0:parseInt(t,10),{shouldOverride:r=!isNaN(n),value:r?n:500});e=l.applyDefaults(e,{domain:"db.fauna.com",scheme:"https",port:null,secret:null,timeout:60,observer:null,keepAlive:!0,headers:{},fetch:void 0,queryTimeout:null,http2SessionIdleTime:o.value,checkNewVersion:!0}),d(e.checkNewVersion),o.shouldOverride&&(e.http2SessionIdleTime=o.value),this._observer=e.observer,this._http=new u.HttpClient(e),this.stream=f.StreamAPI(this)}h.apiVersion=r.apiVersion,h.prototype.query=function(e,t){return this._execute("POST","",c.wrap(e),null,t)},h.prototype.paginate=function(e,t,n){return t=l.defaults(t,{}),n=l.defaults(n,{}),new o(this,e,t,n)},h.prototype.ping=function(e,t){return this._execute("GET","ping",null,{scope:e,timeout:t})},h.prototype.getLastTxnTime=function(){return this._http.getLastTxnTime()},h.prototype.syncLastTxnTime=function(e){this._http.syncLastTxnTime(e)},h.prototype.close=function(e){return this._http.close(e)},h.prototype._execute=function(e,t,n,r,o){r=l.defaults(r,null),(t instanceof p.Ref||l.checkInstanceHasProperty(t,"_isFaunaRef"))&&(t=t.value),null!==r&&(r=l.removeUndefinedValues(r));var a=Date.now(),u=this,c=["GET","HEAD"].indexOf(e)>=0?void 0:JSON.stringify(n);return this._http.execute(Object.assign({},o,{path:t,query:r,method:e,body:c})).then((function(f){var l=Date.now(),p=s.parseJSON(f.body),d=new i(e,t,r,c,n,f.body,p,f.status,f.headers,a,l);return u._handleRequestResult(f,d,o),p.resource}))},h.prototype._handleRequestResult=function(e,t,n){null!=e.headers["x-txn-time"]&&this.syncLastTxnTime(parseInt(e.headers["x-txn-time"],10)),[this._observer,n&&n.observer].forEach((e=>{"function"==typeof e&&e(t,this)})),a.FaunaHTTPError.raiseForStatusCode(t)},e.exports=h,e.exports.resetNotifyAboutNewVersion=function(){d=l.notifyAboutNewVersion()}},547:(e,t,n)=>{"use strict";var r=n(555);function o(e){this.raw=e}o.prototype._isFaunaExpr=!0,o.prototype.toJSON=function(){return this.raw},o.prototype.toFQL=function(){return f(this.raw)};var i=["Do","Call","Union","Intersection","Difference","Equals","Add","BitAnd","BitOr","BitXor","Divide","Max","Min","Modulo","Multiply","Subtract","LT","LTE","GT","GTE","And","Or"],a={containsstrregex:"ContainsStrRegex",endswith:"EndsWith",findstr:"FindStr",findstrregex:"FindStrRegex",gt:"GT",gte:"GTE",is_nonempty:"is_non_empty",lowercase:"LowerCase",lt:"LT",lte:"LTE",ltrim:"LTrim",ngram:"NGram",rtrim:"RTrim",regexescape:"RegexEscape",replacestr:"ReplaceStr",replacestrregex:"ReplaceStrRegex",startswith:"StartsWith",substring:"SubString",titlecase:"TitleCase",uppercase:"UpperCase"};function u(e){return e instanceof o||r.checkInstanceHasProperty(e,"_isFaunaExpr")}function s(e){return"{"+Object.keys(e).map((function(t){return'"'+t+'": '+f(e[t])})).join(", ")+"}"}function c(e,t){return e.map((function(e){return t(e)})).join(", ")}var f=function(e,t){if(u(e)){if("value"in e)return e.toString();e=e.raw}if(null===e)return"null";switch(typeof e){case"string":return JSON.stringify(e);case"symbol":case"number":case"boolean":return e.toString();case"undefined":return"undefined"}if(Array.isArray(e)){var n=c(e,f);return-1!=i.indexOf(t)?n:"["+n+"]"}if("match"in e){var r=f(e.match),o=e.terms||[];return u(o)&&(o=o.raw),Array.isArray(o)&&0==o.length?"Match("+r+")":Array.isArray(o)?"Match("+r+", ["+c(o,f)+"])":"Match("+r+", "+f(o)+")"}if("paginate"in e){if(1===Object.keys(e).length)return"Paginate("+f(e.paginate)+")";var l=Object.assign({},e);return delete l.paginate,"Paginate("+f(e.paginate)+", "+s(l)+")"}if("let"in e&&"in"in e)return"Let("+(Array.isArray(e.let)?"["+c(e.let,s)+"]":s(e.let))+", "+f(e.in)+")";if("object"in e)return s(e.object);if("merge"in e)return e.lambda?"Merge("+f(e.merge)+", "+f(e.with)+", "+f(e.lambda)+")":"Merge("+f(e.merge)+", "+f(e.with)+")";if("lambda"in e)return"Lambda("+f(e.lambda)+", "+f(e.expr)+")";if("filter"in e)return"Filter("+f(e.collection)+", "+f(e.filter)+")";if("call"in e)return"Call("+f(e.call)+", "+f(e.arguments)+")";if("map"in e)return"Map("+f(e.collection)+", "+f(e.map)+")";if("foreach"in e)return"Foreach("+f(e.collection)+", "+f(e.foreach)+")";var p=Object.keys(e),d=p[0];d=function(e){return e in a&&(e=a[e]),e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")}(d);var h=p.filter((t=>null!==e[t]||p.length>1)).map((t=>f(e[t],d))).join(", ");return d+"("+h+")"};o.toString=f,e.exports=o},292:(e,t,n)=>{"use strict";var r=n(541),o=n(394);function i(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),this.reverse=!1,this.params={},this.before=void 0,this.after=void 0,o(this.params,n);var i=this.params.cursor||this.params;"before"in i?(this.before=i.before,delete i.before):"after"in i&&(this.after=i.after,delete i.after),this.options={},o(this.options,r),this.client=e,this.set=t,this._faunaFunctions=[]}i.prototype.map=function(e){var t=this._clone();return t._faunaFunctions.push((function(t){return r.Map(t,e)})),t},i.prototype.filter=function(e){var t=this._clone();return t._faunaFunctions.push((function(t){return r.Filter(t,e)})),t},i.prototype.each=function(e){return this._retrieveNextPage(this.after,!1).then(this._consumePages(e,!1))},i.prototype.eachReverse=function(e){return this._retrieveNextPage(this.before,!0).then(this._consumePages(e,!0))},i.prototype.previousPage=function(){return this._retrieveNextPage(this.before,!0).then(this._adjustCursors.bind(this))},i.prototype.nextPage=function(){return this._retrieveNextPage(this.after,!1).then(this._adjustCursors.bind(this))},i.prototype._adjustCursors=function(e){return void 0!==e.after&&(this.after=e.after),void 0!==e.before&&(this.before=e.before),e.data},i.prototype._consumePages=function(e,t){var n=this;return function(r){var o,i=[];return r.data.forEach((function(e){e.document&&(e.instance=e.document),e.value&&e.value.document&&(e.value.instance=e.value.document),i.push(e)})),e(i),void 0!==(o=t?r.before:r.after)?n._retrieveNextPage(o,t).then(n._consumePages(e,t)):Promise.resolve()}},i.prototype._retrieveNextPage=function(e,t){var n={};o(n,this.params);var i=n.cursor||n;void 0!==e?t?i.before=e:i.after=e:t&&(i.before=null);var a=r.Paginate(this.set,n);return this._faunaFunctions.length>0&&this._faunaFunctions.forEach((function(e){a=e(a)})),this.client.query(a,this.options)},i.prototype._clone=function(){return Object.create(i.prototype,{client:{value:this.client},set:{value:this.set},_faunaFunctions:{value:this._faunaFunctions},before:{value:this.before},after:{value:this.after},params:{value:this.params}})},e.exports=i},523:e=>{"use strict";function t(e,t,n,r,o,i,a,u,s,c,f){this.method=e,this.path=t,this.query=n,this.requestRaw=r,this.requestContent=o,this.responseRaw=i,this.responseContent=a,this.statusCode=u,this.responseHeaders=s,this.startTime=c,this.endTime=f}Object.defineProperty(t.prototype,"timeTaken",{get:function(){return this.endTime-this.startTime}}),e.exports=t},41:(e,t,n)=>{"use strict";var r=n(555);function o(e){Error.call(this),this.message=e||"Request aborted due to timeout",this.isTimeoutError=!0}function i(e){Error.call(this),this.message=e||"Request aborted",this.isAbortError=!0}r.inherits(o,Error),r.inherits(i,Error),e.exports={TimeoutError:o,AbortError:i}},987:(e,t,n)=>{"use strict";n(550);var r=n(555),o=n(908),i=n(41);function a(e){e=e||{},this.type="fetch",this._closed=!1,this._fetch=r.resolveFetch(e.fetch),this._pendingRequests=new Map,r.isNodeEnv()&&e.keepAlive&&(this._keepAliveEnabledAgent=new((e.isHttps?n(764):n(336)).Agent)({keepAlive:!0}))}function u(e,t){return e&&"AbortError"===e.name?t?t():new i.AbortError:e}a.prototype.execute=function(e){if(this._closed)return Promise.reject(new o.ClientClosed("The Client has already been closed","No subsequent requests can be issued after the .close method is called. Consider creating a new Client instance"));var t=this,n=null,a=null!=e.streamConsumer,s=!e.signal&&!!e.timeout,c=new AbortController,f={isStreaming:a,isAbortedByClose:!1,onComplete:null};t._pendingRequests.set(c,f);var l=function(){t._pendingRequests.delete(c),e.signal&&e.signal.removeEventListener("abort",d),f.onComplete&&f.onComplete()},p=function(){n&&clearTimeout(n)},d=function(){c.abort()};return s&&(n=setTimeout((function(){n=null,c.abort()}),e.timeout)),e.signal&&e.signal.addEventListener("abort",d),this._fetch(r.formatUrl(e.origin,e.path,e.query),{method:e.method,headers:e.headers,body:e.body,agent:this._keepAliveEnabledAgent,signal:c.signal}).then((function(t){p();var n=function(e){var t={};for(var n of e.entries()){var r=n[0],o=n[1];t[r]=o}return t}(t.headers);return a&&t.ok?(function(e,t,n){var i=function(e){n(),t.onError(u(e))};if(r.isNodeEnv())e.body.on("error",i).on("data",t.onData).on("end",(function(){n(),t.onError(new TypeError("network error"))}));else try{var a=e.body.getReader(),s=new TextDecoder("utf-8");function r(){return a.read().then((function(e){if(!e.done){var o=s.decode(e.value,{stream:!0});return t.onData(o),r()}n(),t.onError(new TypeError("network error"))}))}r().catch(i)}catch(e){throw new o.StreamsNotSupported("Please, consider providing a Fetch API-compatible function with streamable response bodies. "+e)}}(t,e.streamConsumer,l),{body:"[stream]",headers:n,status:t.status}):(l(),t.text().then((function(e){return{body:e,headers:n,status:t.status}})))})).catch((function(e){return p(),l(),Promise.reject(u(e,(function(){return!a&&f.isAbortedByClose?new o.ClientClosed("The request is aborted due to the Client#close call with the force=true option"):s?new i.TimeoutError:new i.AbortError})))}))},a.prototype.close=function(e){e=e||{},this._closed=!0;var t=[];return this._pendingRequests.forEach((function(n,r){if(n.isStreaming||e.force)return n.isAbortedByClose=!0,r.abort();t.push(new Promise((function(e){n.onComplete=e})))})),Promise.all(t).then((function(){}))},e.exports=a},320:(e,t,n)=>{"use strict";var r=n(858),o=n(41),i=n(908),a=n(555),u="stream::";function s(e){this.type="http2",this._sessionMap={},this._http2SessionIdleTime=e.http2SessionIdleTime,this._closed=!1}s.prototype._resolveSessionFor=function(e,t){var n=t?u+e:e;if(this._sessionMap[n])return this._sessionMap[n];var o=this,i=null,a=0,s=function(){o._cleanupSessionFor(e,t)},c=function(){i&&(clearTimeout(i),i=null)},f=r.connect(e).once("error",s).once("goaway",s),l={session:f,close:function(e){return c(),e||t?(f.destroy(),Promise.resolve()):new Promise((function(e){f.close(e)}))},onRequestStart:function(){++a,c()},onRequestEnd:function(){var e=0==--a,t=o._closed||f.closed||f.destroyed;e&&!t&&(c(),o._http2SessionIdleTime!==1/0&&(i=setTimeout((function(){i=null,0===a&&s()}),o._http2SessionIdleTime)))}};return this._sessionMap[n]=l,l},s.prototype._cleanupSessionFor=function(e,t){var n=t?u+e:e;this._sessionMap[n]&&(this._sessionMap[n].session.close(),delete this._sessionMap[n])},s.prototype.execute=function(e){if(this._closed)return Promise.reject(new i.ClientClosed("The Client has already been closed","No subsequent requests can be issued after the .close method is called. Consider creating a new Client instance"));var t=this,n=null!=e.streamConsumer;return new Promise((function(u,s){var c=!1,f=!1,l=function(e){c=!0,u(e)},p=function(r){var o=function({error:e,isClosed:t}){return!t||"ERR_HTTP2_GOAWAY_SESSION"!==e.code&&"ERR_HTTP2_STREAM_CANCEL"!==e.code?e:new i.ClientClosed("The request is aborted due to the Client#close call")}({error:r,isClosed:t._closed});if(c&&n)return e.streamConsumer.onError(o);c=!0,s(o)},d=function(){m.onRequestEnd(),e.signal&&e.signal.removeEventListener("abort",h)},h=function(){f=!0,d(),g.close(r.constants.NGHTTP2_CANCEL),p(new o.AbortError)};try{var y=("/"===e.path[0]?e.path:"/"+e.path)+a.querystringify(e.query,"?"),v=Object.assign({},e.headers,{[r.constants.HTTP2_HEADER_PATH]:y,[r.constants.HTTP2_HEADER_METHOD]:e.method}),m=t._resolveSessionFor(e.origin,n),g=m.session.request(v).setEncoding("utf8").on("error",(function(e){d(),p(e)})).on("response",(function(o){var i=o[r.constants.HTTP2_HEADER_STATUS],a=i>=200&&i<400&&n,u="";a&&l({body:"[stream]",headers:o,status:i}),g.on("data",(function(t){if(a)return e.streamConsumer.onData(t);u+=t})).on("end",(function(){if(f||d(),!a)return l({body:u,headers:o,status:i});f||t._closed||e.streamConsumer.onError(new TypeError("network error"))}))}));m.onRequestStart(),!e.signal&&e.timeout&&g.setTimeout(e.timeout,(function(){f=!0,d(),g.close(r.constants.NGHTTP2_CANCEL),p(new o.TimeoutError)})),e.signal&&e.signal.addEventListener("abort",h),null!=e.body&&g.write(e.body),g.end()}catch(r){t._cleanupSessionFor(e.origin,n),p(r)}}))},s.prototype.close=function(e){return e=e||{},this._closed=!0,Promise.all(Object.values(this._sessionMap).map((function(t){return t.close(e.force)}))).then((function(){}))},e.exports=s},637:(e,t,n)=>{"use strict";var r=n(844);const{getBrowserOsDetails:o}=n(555);var i=n(555),a=n(41);function u(e){var t="https"===e.scheme;e.port||(e.port=t?443:80);var a=!e.fetch&&i.isNodeEnv()&&function(){try{return n(858),!0}catch(e){return!1}}();this._adapter=a?new(n(320))({http2SessionIdleTime:e.http2SessionIdleTime}):new(n(987))({isHttps:t,fetch:e.fetch,keepAlive:e.keepAlive}),this._baseUrl=e.scheme+"://"+e.domain+":"+e.port,this._secret=e.secret,this._headers=Object.assign({},e.headers,function(){var e,t={driver:["javascript",r.version].join("-")};try{e=n.g instanceof ServiceWorkerGlobalScope}catch(t){e=!1}try{if(i.isNodeEnv()){t.runtime=["nodejs",process.version].join("-"),t.env=i.getNodeRuntimeEnv();var a=n(886);t.os=[a.platform(),a.release()].join("-")}else e?t.runtime="Service Worker":(t.runtime=i.getBrowserDetails(),t.env="browser",t.os=o())}catch(e){}var u={"X-FaunaDB-API-Version":r.apiVersion};return i.isNodeEnv()&&(u["X-Driver-Env"]=Object.keys(t).map((e=>[e,t[e].toLowerCase()].join("="))).join("; ")),u}()),this._queryTimeout=e.queryTimeout,this._lastSeen=null,this._timeout=Math.floor(1e3*e.timeout)}u.prototype.getLastTxnTime=function(){return this._lastSeen},u.prototype.syncLastTxnTime=function(e){(null==this._lastSeen||this._lastSeen<e)&&(this._lastSeen=e)},u.prototype.close=function(e){return this._adapter.close(e)},u.prototype.execute=function(e){if((e=e||{}).streamConsumer&&("function"!=typeof e.streamConsumer.onData||"function"!=typeof e.streamConsumer.onError))return Promise.reject(new TypeError('Invalid "streamConsumer" provided'));var t=e.secret||this._secret,n=e.queryTimeout||this._queryTimeout,r=this._headers;return r.Authorization=t&&function(e){return"Bearer "+e}(t),r["X-Last-Seen-Txn"]=this._lastSeen,r["X-Query-Timeout"]=n,this._adapter.execute({origin:this._baseUrl,path:e.path||"/",query:e.query,method:e.method||"GET",headers:i.removeNullAndUndefinedValues(r),body:e.body,signal:e.signal,timeout:this._timeout,streamConsumer:e.streamConsumer})},e.exports={HttpClient:u,TimeoutError:a.TimeoutError,AbortError:a.AbortError}},168:(e,t,n)=>{"use strict";var r=n(885);function o(e){return JSON.parse(e,i)}function i(e,t){if("object"!=typeof t||null===t)return t;if("@ref"in t){var n=t["@ref"];if(!("collection"in n)&&!("database"in n))return r.Native.fromName(n.id);var o=i(0,n.collection),a=i(0,n.database);return new r.Ref(n.id,o,a)}return"@obj"in t?t["@obj"]:"@set"in t?new r.SetRef(t["@set"]):"@ts"in t?new r.FaunaTime(t["@ts"]):"@date"in t?new r.FaunaDate(t["@date"]):"@bytes"in t?new r.Bytes(t["@bytes"]):"@query"in t?new r.Query(t["@query"]):t}e.exports={toJSON:function(e,t){return(t=void 0!==t&&t)?JSON.stringify(e,null,"  "):JSON.stringify(e)},parseJSON:o,parseJSONStreaming:function(e){var t=[];try{t.push(o(e)),e=""}catch(i){for(;;){var n=e.indexOf("\n")+1;if(n<=0)break;var r=e.slice(0,n).trim();r.length>0&&t.push(o(r)),e=e.slice(n)}}return{values:t,buffer:e}}}},555:(e,t,n)=>{"use strict";var r=n(844),o=n(615),i=n(305),a="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:self;function u(){return"undefined"==typeof window&&"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}function s(e,t){return"object"==typeof e&&null!==e&&Boolean(e[t])}function c(e,t){t=t||"";var n,r,o=[];for(r in"string"!=typeof t&&(t="?"),e)if(s(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=f(r),n=f(n),null===r||null===n)continue;o.push(r+"="+n)}return o.length?t+o.join("&"):""}function f(e){try{return encodeURIComponent(e)}catch(e){return null}}function l(e){return"function"==typeof e?e:"function"==typeof a.fetch?a.fetch.bind(a):n(98)}e.exports={notifyAboutNewVersion:function(){var e;return t=>{u()&&!e&&t&&(e=!0,l()("https://registry.npmjs.org/"+r.name).then((e=>e.json())).then((e=>{var t;(t=e["dist-tags"].latest)>r.version&&console.info(i("New "+r.name+" version available "+o.dim(r.version)+o.reset(" â†’ ")+o.green(t)+`\nChangelog: https://github.com/${r.repository}/blob/main/CHANGELOG.md`,{padding:1,borderColor:"yellow"}))})).catch((e=>{console.error("Unable to check new driver version"),console.error(e)})))}},crossGlobal:a,mergeObjects:function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},formatUrl:function(e,t,n){return n="object"==typeof n?c(n):n,[e,t?"/"===t.charAt(0)?"":"/"+t:"",n?"?"===n.charAt(0)?"":"?"+n:""].join("")},querystringify:c,inherits:function(e,t){if(null==e)throw new TypeError('The constructor to "inherits" must not be null or undefined');if(null==t)throw new TypeError('The super constructor to "inherits" must not be null or undefined');if(void 0===t.prototype)throw new TypeError('The super constructor to "inherits" must have a prototype');e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},isNodeEnv:u,getEnvVariable:function(e){if("undefined"!=typeof process&&process&&process.env&&null!=process.env[e])return process.env[e]},defaults:function(e,t){return void 0===e?t:e},applyDefaults:function(e,t){var n={};for(var r in e){if(!(r in t))throw new Error("No such option "+r);n[r]=e[r]}for(var o in t)o in n||(n[o]=t[o]);return n},removeNullAndUndefinedValues:function(e){var t={};for(var n in e){var r=e[n];null!=r&&(t[n]=r)}return t},removeUndefinedValues:function(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=r)}return t},checkInstanceHasProperty:s,getBrowserDetails:function(){var e,t,n,r=navigator.appName,o=""+parseFloat(navigator.appVersion);return-1!=(t=navigator.userAgent.indexOf("Opera"))?(r="Opera",o=navigator.userAgent.substring(t+6),-1!=(t=navigator.userAgent.indexOf("Version"))&&(o=navigator.userAgent.substring(t+8))):-1!=(t=navigator.userAgent.indexOf("MSIE"))?(r="Microsoft Internet Explorer",o=navigator.userAgent.substring(t+5)):"Netscape"==r&&-1!=navigator.userAgent.indexOf("Trident/")?(r="Microsoft Internet Explorer",o=navigator.userAgent.substring(t+5),-1!=(t=navigator.userAgent.indexOf("rv:"))&&(o=navigator.userAgent.substring(t+3))):-1!=(t=navigator.userAgent.indexOf("Chrome"))?(r="Chrome",o=navigator.userAgent.substring(t+7)):-1!=(t=navigator.userAgent.indexOf("Safari"))?(r="Safari",o=navigator.userAgent.substring(t+7),-1!=(t=navigator.userAgent.indexOf("Version"))&&(o=navigator.userAgent.substring(t+8)),-1!=navigator.userAgent.indexOf("CriOS")&&(r="Chrome")):-1!=(t=navigator.userAgent.indexOf("Firefox"))?(r="Firefox",o=navigator.userAgent.substring(t+8)):(e=navigator.userAgent.lastIndexOf(" ")+1)<(t=navigator.userAgent.lastIndexOf("/"))&&(r=navigator.userAgent.substring(e,t),o=navigator.userAgent.substring(t+1),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName)),-1!=(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),[r,o].join("-")},getBrowserOsDetails:function(){var e="unknown",t=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Chrome OS",r:/CrOS/},{s:"Linux",r:/(Linux|X11(?!.*CrOS))/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(Mac OS|MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var n in t){var r=t[n];if(r.r.test(navigator.userAgent)){e=r.s;break}}var o="unknown";switch(/Windows/.test(e)&&(o=/Windows (.*)/.exec(e)[1],e="Windows"),e){case"Mac OS":case"Mac OS X":case"Android":o=/(?:Android|Mac OS|Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh) ([\.\_\d]+)/.exec(navigator.userAgent)[1];break;case"iOS":o=(o=/OS (\d+)_(\d+)_?(\d+)?/.exec(navigator.appVersion))[1]+"."+o[2]+"."+(0|o[3])}return[e,o].join("-")},getNodeRuntimeEnv:function(){var e=[{name:"Netlify",check:function(){return process.env.hasOwnProperty("NETLIFY_IMAGES_CDN_DOMAIN")}},{name:"Vercel",check:function(){return process.env.hasOwnProperty("VERCEL")}},{name:"Heroku",check:function(){return process.env.hasOwnProperty("PATH")&&-1!==process.env.PATH.indexOf(".heroku")}},{name:"AWS Lambda",check:function(){return process.env.hasOwnProperty("AWS_LAMBDA_FUNCTION_VERSION")}},{name:"GCP Cloud Functions",check:function(){return process.env.hasOwnProperty("_")&&-1!==process.env._.indexOf("google")}},{name:"GCP Compute Instances",check:function(){return process.env.hasOwnProperty("GOOGLE_CLOUD_PROJECT")}},{name:"Azure Cloud Functions",check:function(){return process.env.hasOwnProperty("WEBSITE_FUNCTIONS_AZUREMONITOR_CATEGORIES")}},{name:"Azure Compute",check:function(){return process.env.hasOwnProperty("ORYX_ENV_TYPE")&&process.env.hasOwnProperty("WEBSITE_INSTANCE_ID")&&"AppService"===process.env.ORYX_ENV_TYPE}},{name:"Mongo Stitch",check:function(){return"function"==typeof a.StitchError}},{name:"Render",check:function(){return process.env.hasOwnProperty("RENDER_SERVICE_ID")}},{name:"Begin",check:function(){return process.env.hasOwnProperty("BEGIN_DATA_SCOPE_ID")}}].find((e=>e.check()));return e?e.name:"unknown"},resolveFetch:l}},686:(e,t,n)=>{"use strict";var r=n(168);function o(e){var t=e.query,n=e.method,r=e.path,o=e.requestContent,a=e.responseHeaders,u=e.responseContent,s=e.statusCode,c=e.timeTaken,f="";function l(e){f+=e}return l("Fauna "+n+" /"+r+function(e){if(null==e)return"";var t=Object.keys(e);return 0===t.length?"":"?"+t.map((function(t){return t+"="+e[t]})).join("&")}(t)+"\n"),null!=o&&l("  Request JSON: "+i(o)+"\n"),l("  Response headers: "+i(a)+"\n"),l("  Response JSON: "+i(u)+"\n"),l("  Response ("+s+"): Network latency "+c+"ms\n"),f}function i(e){return r.toJSON(e,!0).split("\n").join("\n  ")}e.exports={logger:function(e){return function(t,n){return e(o(t),n)}},showRequestResult:o}},908:(e,t,n)=>{"use strict";var r=n(555);function o(e,t,n){Error.call(this),this.name=e,this.message=t,this.description=n}function i(e){o.call(this,"InvalidValue",e)}function a(e,t,n,r){var i=`${r} function requires ${function(e,t){return null===t?"at least "+e:null===e?"up to "+t:e===t?e:"from "+e+" to "+t}(e,t)} argument(s) but ${n} were given`,a=`For more info, see the docs: https://docs.fauna.com/fauna/current/api/fql/functions/${r.toLowerCase()}`;o.call(this,"InvalidArity",`${i}\n${a}`),this.min=e,this.max=t,this.actual=n}function u(e,t){var n=t.responseContent.errors,r=0===n.length?'(empty "errors")':n[0].code,i=0===n.length?'(empty "errors")':n[0].description;o.call(this,e,r,i),this.requestResult=t}function s(e){u.call(this,"BadRequest",e)}function c(e){u.call(this,"Unauthorized",e)}function f(e){u.call(this,"PermissionDenied",e)}function l(e){u.call(this,"NotFound",e)}function p(e){u.call(this,"MethodNotAllowed",e)}function d(e){u.call(this,"TooManyRequests",e)}function h(e){u.call(this,"InternalError",e)}function y(e){u.call(this,"UnavailableError",e)}function v(e,t,n){o.call(this,e,t,n)}function m(e){o.call(this,"StreamsNotSupported","streams not supported",e)}function g(e){var t=e.data||{};o.call(this,"StreamErrorEvent",t.code,t.description),this.event=e}function _(e,t){o.call(this,"ClientClosed",e,t)}r.inherits(o,Error),r.inherits(i,o),r.inherits(a,o),r.inherits(u,o),u.prototype.errors=function(){return this.requestResult.responseContent.errors},u.raiseForStatusCode=function(e){var t=e.statusCode;if(t<200||t>=300)switch(t){case 400:throw new s(e);case 401:throw new c(e);case 403:throw new f(e);case 404:throw new l(e);case 405:throw new p(e);case 429:throw new d(e);case 500:throw new h(e);case 503:throw new y(e);default:throw new u("UnknownError",e)}},r.inherits(s,u),r.inherits(c,u),r.inherits(f,u),r.inherits(l,u),r.inherits(p,u),r.inherits(d,u),r.inherits(h,u),r.inherits(y,u),r.inherits(v,o),r.inherits(m,v),r.inherits(g,v),r.inherits(_,o),e.exports={FaunaError:o,ClientClosed:_,FaunaHTTPError:u,InvalidValue:i,InvalidArity:a,BadRequest:s,Unauthorized:c,PermissionDenied:f,NotFound:l,MethodNotAllowed:p,TooManyRequests:d,InternalError:h,UnavailableError:y,StreamError:v,StreamsNotSupported:m,StreamErrorEvent:g}},541:(e,t,n)=>{"use strict";var r=n(228),o=n(927),i=n(547),a=n(908),u=n(885),s=n(394),c=n(555);function f(e){return y.exact(1,arguments,f.name),new i({var:_(e)})}var l=function(e){return y.exact(1,arguments,l.name),new i({object:w(e)})};function p(){switch(y.between(1,2,arguments,p.name),arguments.length){case 1:var e=arguments[0];if("function"==typeof e)return d(e);if(e instanceof i||c.checkInstanceHasProperty(e,"_isFaunaExpr"))return e;throw new a.InvalidValue("Lambda function takes either a Function or an Expr.");case 2:var t=arguments[0],n=arguments[1];return h(t,n)}}function d(e){var t=r(e);switch(t.length){case 0:throw new a.InvalidValue("Provided Function must take at least 1 argument.");case 1:return h(t[0],e(f(t[0])));default:return h(t,e.apply(null,t.map((function(e){return f(e)}))))}}function h(e,t){return new i({lambda:_(e),expr:_(t)})}function y(e,t,n,r){if(null!==e&&n.length<e||null!==t&&n.length>t)throw new a.InvalidArity(e,t,n.length,r)}function v(e,t){for(var n in t){var r=t[n];null!=r&&(e[n]=r)}return e}function m(e){var t=Array.isArray(e)?e:Array.prototype.slice.call(e);return 1===e.length?e[0]:t}function g(e){var t=[];return t.push.apply(t,e),t}function _(e){return y.exact(1,arguments,_.name),null===e?null:e instanceof i||c.checkInstanceHasProperty(e,"_isFaunaExpr")?e:"symbol"==typeof e?e.toString().replace(/Symbol\((.*)\)/,(function(e,t){return t})):"function"==typeof e?p(e):Array.isArray(e)?new i(e.map((function(e){return _(e)}))):e instanceof Uint8Array||e instanceof ArrayBuffer?new u.Bytes(e):"object"==typeof e?new i({object:w(e)}):e}function w(e){if(null!==e){var t={};return Object.keys(e).forEach((function(n){t[n]=_(e[n])})),t}return null}y.exact=function(e,t,n){y(e,e,t,n)},y.max=function(e,t,n){y(null,e,t,n)},y.min=function(e,t,n){y(e,null,t,n)},y.between=function(e,t,n,r){y(e,t,n,r)},e.exports={Ref:function e(){switch(y.between(1,2,arguments,e.name),arguments.length){case 1:return new i({"@ref":_(arguments[0])});case 2:return new i({ref:_(arguments[0]),id:_(arguments[1])})}},Bytes:function e(t){return y.exact(1,arguments,e.name),new u.Bytes(t)},Abort:function e(t){return y.exact(1,arguments,e.name),new i({abort:_(t)})},At:function e(t,n){return y.exact(2,arguments,e.name),new i({at:_(t),expr:_(n)})},Let:function e(t,n){y.exact(2,arguments,e.name);var r=[];if(r=Array.isArray(t)?t.map((function(e){return w(e)})):Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){var n={};return n[e]=_(t[e]),n})),"function"==typeof n)if(Array.isArray(t)){var o=[];t.forEach((function(e){Object.keys(e).forEach((function(e){o.push(f(e))}))})),n=n.apply(null,o)}else n=n.apply(null,Object.keys(t).map((function(e){return f(e)})));return new i({let:r,in:_(n)})},Var:f,If:function e(t,n,r){return y.exact(3,arguments,e.name),new i({if:_(t),then:_(n),else:_(r)})},Do:function e(){y.min(1,arguments,e.name);var t=g(arguments);return new i({do:_(t)})},Object:l,Lambda:p,Call:function e(t){y.min(1,arguments,e.name);var n=g(arguments);return n.shift(),new i({call:_(t),arguments:_(m(n))})},Query:function e(t){return y.exact(1,arguments,e.name),new i({query:_(t)})},Map:function e(t,n){return y.exact(2,arguments,e.name),new i({map:_(n),collection:_(t)})},Foreach:function e(t,n){return y.exact(2,arguments,e.name),new i({foreach:_(n),collection:_(t)})},Filter:function e(t,n){return y.exact(2,arguments,e.name),new i({filter:_(n),collection:_(t)})},Take:function e(t,n){return y.exact(2,arguments,e.name),new i({take:_(t),collection:_(n)})},Drop:function e(t,n){return y.exact(2,arguments,e.name),new i({drop:_(t),collection:_(n)})},Prepend:function e(t,n){return y.exact(2,arguments,e.name),new i({prepend:_(t),collection:_(n)})},Append:function e(t,n){return y.exact(2,arguments,e.name),new i({append:_(t),collection:_(n)})},IsEmpty:function e(t){return y.exact(1,arguments,e.name),new i({is_empty:_(t)})},IsNonEmpty:function e(t){return y.exact(1,arguments,e.name),new i({is_nonempty:_(t)})},IsNumber:function e(t){return y.exact(1,arguments,e.name),new i({is_number:_(t)})},IsDouble:function e(t){return y.exact(1,arguments,e.name),new i({is_double:_(t)})},IsInteger:function e(t){return y.exact(1,arguments,e.name),new i({is_integer:_(t)})},IsBoolean:function e(t){return y.exact(1,arguments,e.name),new i({is_boolean:_(t)})},IsNull:function e(t){return y.exact(1,arguments,e.name),new i({is_null:_(t)})},IsBytes:function e(t){return y.exact(1,arguments,e.name),new i({is_bytes:_(t)})},IsTimestamp:function e(t){return y.exact(1,arguments,e.name),new i({is_timestamp:_(t)})},IsDate:function e(t){return y.exact(1,arguments,e.name),new i({is_date:_(t)})},IsString:function e(t){return y.exact(1,arguments,e.name),new i({is_string:_(t)})},IsArray:function e(t){return y.exact(1,arguments,e.name),new i({is_array:_(t)})},IsObject:function e(t){return y.exact(1,arguments,e.name),new i({is_object:_(t)})},IsRef:function e(t){return y.exact(1,arguments,e.name),new i({is_ref:_(t)})},IsSet:function e(t){return y.exact(1,arguments,e.name),new i({is_set:_(t)})},IsDoc:function e(t){return y.exact(1,arguments,e.name),new i({is_doc:_(t)})},IsLambda:function e(t){return y.exact(1,arguments,e.name),new i({is_lambda:_(t)})},IsCollection:function e(t){return y.exact(1,arguments,e.name),new i({is_collection:_(t)})},IsDatabase:function e(t){return y.exact(1,arguments,e.name),new i({is_database:_(t)})},IsIndex:function e(t){return y.exact(1,arguments,e.name),new i({is_index:_(t)})},IsFunction:function e(t){return y.exact(1,arguments,e.name),new i({is_function:_(t)})},IsKey:function e(t){return y.exact(1,arguments,e.name),new i({is_key:_(t)})},IsToken:function e(t){return y.exact(1,arguments,e.name),new i({is_token:_(t)})},IsCredentials:function e(t){return y.exact(1,arguments,e.name),new i({is_credentials:_(t)})},IsRole:function e(t){return y.exact(1,arguments,e.name),new i({is_role:_(t)})},Get:function e(t,n){return y.between(1,2,arguments,e.name),n=c.defaults(n,null),new i(v({get:_(t)},{ts:_(n)}))},KeyFromSecret:function e(t){return y.exact(1,arguments,e.name),new i({key_from_secret:_(t)})},Reduce:function e(t,n,r){return y.exact(3,arguments,e.name),new i({reduce:_(t),initial:_(n),collection:_(r)})},Paginate:function e(t,n){return y.between(1,2,arguments,e.name),n=c.defaults(n,{}),new i(s({paginate:_(t)},w(n)))},Exists:function e(t,n){return y.between(1,2,arguments,e.name),n=c.defaults(n,null),new i(v({exists:_(t)},{ts:_(n)}))},Create:function e(t,n){return y.between(1,2,arguments,e.name),new i({create:_(t),params:_(n)})},Update:function e(t,n){return y.exact(2,arguments,e.name),new i({update:_(t),params:_(n)})},Replace:function e(t,n){return y.exact(2,arguments,e.name),new i({replace:_(t),params:_(n)})},Delete:function e(t){return y.exact(1,arguments,e.name),new i({delete:_(t)})},Insert:function e(t,n,r,o){return y.exact(4,arguments,e.name),new i({insert:_(t),ts:_(n),action:_(r),params:_(o)})},Remove:function e(t,n,r){return y.exact(3,arguments,e.name),new i({remove:_(t),ts:_(n),action:_(r)})},CreateClass:o((function e(t){return y.exact(1,arguments,e.name),new i({create_class:_(t)})}),"CreateClass() is deprecated, use CreateCollection() instead"),CreateCollection:function e(t){return y.exact(1,arguments,e.name),new i({create_collection:_(t)})},CreateDatabase:function e(t){return y.exact(1,arguments,e.name),new i({create_database:_(t)})},CreateIndex:function e(t){return y.exact(1,arguments,e.name),new i({create_index:_(t)})},CreateKey:function e(t){return y.exact(1,arguments,e.name),new i({create_key:_(t)})},CreateFunction:function e(t){return y.exact(1,arguments,e.name),new i({create_function:_(t)})},CreateRole:function e(t){return y.exact(1,arguments,e.name),new i({create_role:_(t)})},CreateAccessProvider:function e(t){return y.exact(1,arguments,e.name),new i({create_access_provider:_(t)})},Singleton:function e(t){return y.exact(1,arguments,e.name),new i({singleton:_(t)})},Events:function e(t){return y.exact(1,arguments,e.name),new i({events:_(t)})},Match:function e(t){y.min(1,arguments,e.name);var n=g(arguments);return n.shift(),new i({match:_(t),terms:_(m(n))})},Union:function e(){return y.min(1,arguments,e.name),new i({union:_(m(arguments))})},Merge:function e(t,n,r){return y.between(2,3,arguments,e.name),new i(v({merge:_(t),with:_(n)},{lambda:_(r)}))},Intersection:function e(){return y.min(1,arguments,e.name),new i({intersection:_(m(arguments))})},Difference:function e(){return y.min(1,arguments,e.name),new i({difference:_(m(arguments))})},Distinct:function e(t){return y.exact(1,arguments,e.name),new i({distinct:_(t)})},Join:function e(t,n){return y.exact(2,arguments,e.name),new i({join:_(t),with:_(n)})},Range:function e(t,n,r){return y.exact(3,arguments,e.name),new i({range:_(t),from:_(n),to:_(r)})},Login:function e(t,n){return y.exact(2,arguments,e.name),new i({login:_(t),params:_(n)})},Logout:function e(t){return y.exact(1,arguments,e.name),new i({logout:_(t)})},Identify:function e(t,n){return y.exact(2,arguments,e.name),new i({identify:_(t),password:_(n)})},Identity:o((function e(){return y.exact(0,arguments,e.name),new i({identity:null})}),"Identity() is deprecated, use CurrentIdentity() instead"),CurrentIdentity:function e(){return y.exact(0,arguments,e.name),new i({current_identity:null})},HasIdentity:o((function e(){return y.exact(0,arguments,e.name),new i({has_identity:null})}),"HasIdentity() is deprecated, use HasCurrentIdentity() instead"),HasCurrentIdentity:function e(){return y.exact(0,arguments,e.name),new i({has_current_identity:null})},CurrentToken:function e(){return y.exact(0,arguments,e.name),new i({current_token:null})},HasCurrentToken:function e(){return y.exact(0,arguments,e.name),new i({has_current_token:null})},Concat:function e(t,n){return y.min(1,arguments,e.name),n=c.defaults(n,null),new i(v({concat:_(t)},{separator:_(n)}))},Casefold:function e(t,n){return y.min(1,arguments,e.name),new i(v({casefold:_(t)},{normalizer:_(n)}))},ContainsStr:function e(t,n){return y.exact(2,arguments,e.name),new i({containsstr:_(t),search:_(n)})},ContainsStrRegex:function e(t,n){return y.exact(2,arguments,e.name),new i({containsstrregex:_(t),pattern:_(n)})},StartsWith:function e(t,n){return y.exact(2,arguments,e.name),new i({startswith:_(t),search:_(n)})},EndsWith:function e(t,n){return y.exact(2,arguments,e.name),new i({endswith:_(t),search:_(n)})},FindStr:function e(t,n,r){return y.between(2,3,arguments,e.name),r=c.defaults(r,null),new i(v({findstr:_(t),find:_(n)},{start:_(r)}))},FindStrRegex:function e(t,n,r,o){return y.between(2,4,arguments,e.name),r=c.defaults(r,null),new i(v({findstrregex:_(t),pattern:_(n)},{start:_(r),num_results:_(o)}))},Length:function e(t){return y.exact(1,arguments,e.name),new i({length:_(t)})},LowerCase:function e(t){return y.exact(1,arguments,e.name),new i({lowercase:_(t)})},LTrim:function e(t){return y.exact(1,arguments,e.name),new i({ltrim:_(t)})},NGram:function e(t,n,r){return y.between(1,3,arguments,e.name),n=c.defaults(n,null),r=c.defaults(r,null),new i(v({ngram:_(t)},{min:_(n),max:_(r)}))},Repeat:function e(t,n){return y.between(1,2,arguments,e.name),n=c.defaults(n,null),new i(v({repeat:_(t)},{number:_(n)}))},ReplaceStr:function e(t,n,r){return y.exact(3,arguments,e.name),new i({replacestr:_(t),find:_(n),replace:_(r)})},ReplaceStrRegex:function e(t,n,r,o){return y.between(3,4,arguments,e.name),o=c.defaults(o,null),new i(v({replacestrregex:_(t),pattern:_(n),replace:_(r)},{first:_(o)}))},RegexEscape:function e(t){return y.exact(1,arguments,e.name),new i({regexescape:_(t)})},RTrim:function e(t){return y.exact(1,arguments,e.name),new i({rtrim:_(t)})},Space:function e(t){return y.exact(1,arguments,e.name),new i({space:_(t)})},SubString:function e(t,n,r){return y.between(1,3,arguments,e.name),n=c.defaults(n,null),r=c.defaults(r,null),new i(v({substring:_(t)},{start:_(n),length:_(r)}))},TitleCase:function e(t){return y.exact(1,arguments,e.name),new i({titlecase:_(t)})},Trim:function e(t){return y.exact(1,arguments,e.name),new i({trim:_(t)})},UpperCase:function e(t){return y.exact(1,arguments,e.name),new i({uppercase:_(t)})},Format:function e(t){y.min(1,arguments,e.name);var n=g(arguments);return n.shift(),new i({format:_(t),values:_(m(n))})},Time:function e(t){return y.exact(1,arguments,e.name),new i({time:_(t)})},TimeAdd:function e(t,n,r){return y.exact(3,arguments,e.name),new i({time_add:_(t),offset:_(n),unit:_(r)})},TimeSubtract:function e(t,n,r){return y.exact(3,arguments,e.name),new i({time_subtract:_(t),offset:_(n),unit:_(r)})},TimeDiff:function e(t,n,r){return y.exact(3,arguments,e.name),new i({time_diff:_(t),other:_(n),unit:_(r)})},Epoch:function e(t,n){return y.exact(2,arguments,e.name),new i({epoch:_(t),unit:_(n)})},Date:function e(t){return y.exact(1,arguments,e.name),new i({date:_(t)})},Now:function e(){return y.exact(0,arguments,e.name),new i({now:_(null)})},NextId:o((function e(){return y.exact(0,arguments,e.name),new i({next_id:null})}),"NextId() is deprecated, use NewId() instead"),NewId:function e(){return y.exact(0,arguments,e.name),new i({new_id:null})},Database:function e(t,n){switch(y.between(1,2,arguments,e.name),arguments.length){case 1:return new i({database:_(t)});case 2:return new i({database:_(t),scope:_(n)})}},Index:function e(t,n){switch(y.between(1,2,arguments,e.name),arguments.length){case 1:return new i({index:_(t)});case 2:return new i({index:_(t),scope:_(n)})}},Class:o((function e(t,n){switch(y.between(1,2,arguments,e.name),arguments.length){case 1:return new i({class:_(t)});case 2:return new i({class:_(t),scope:_(n)})}}),"Class() is deprecated, use Collection() instead"),Collection:function e(t,n){switch(y.between(1,2,arguments,e.name),arguments.length){case 1:return new i({collection:_(t)});case 2:return new i({collection:_(t),scope:_(n)})}},Function:function e(t,n){switch(y.between(1,2,arguments,e.name),arguments.length){case 1:return new i({function:_(t)});case 2:return new i({function:_(t),scope:_(n)})}},Role:function e(t,n){return y.between(1,2,arguments,e.name),n=c.defaults(n,null),new i(v({role:_(t)},{scope:_(n)}))},AccessProviders:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({access_providers:_(t)})},Classes:o((function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({classes:_(t)})}),"Classes() is deprecated, use Collections() instead"),Collections:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({collections:_(t)})},Databases:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({databases:_(t)})},Indexes:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({indexes:_(t)})},Functions:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({functions:_(t)})},Roles:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({roles:_(t)})},Keys:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({keys:_(t)})},Tokens:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({tokens:_(t)})},Credentials:function e(t){return y.max(1,arguments,e.name),t=c.defaults(t,null),new i({credentials:_(t)})},Equals:function e(){return y.min(1,arguments,e.name),new i({equals:_(m(arguments))})},Contains:o((function e(t,n){return y.exact(2,arguments,e.name),new i({contains:_(t),in:_(n)})}),"Contains() is deprecated, use ContainsPath() instead"),ContainsPath:function e(t,n){return y.exact(2,arguments,e.name),new i({contains_path:_(t),in:_(n)})},ContainsField:function e(t,n){return y.exact(2,arguments,e.name),new i({contains_field:_(t),in:_(n)})},ContainsValue:function e(t,n){return y.exact(2,arguments,e.name),new i({contains_value:_(t),in:_(n)})},Select:function e(t,n,r){y.between(2,3,arguments,e.name);var o={select:_(t),from:_(n)};return void 0!==r&&(o.default=_(r)),new i(o)},SelectAll:o((function e(t,n){return y.exact(2,arguments,e.name),new i({select_all:_(t),from:_(n)})}),"SelectAll() is deprecated. Avoid use."),Abs:function e(t){return y.exact(1,arguments,e.name),new i({abs:_(t)})},Add:function e(){return y.min(1,arguments,e.name),new i({add:_(m(arguments))})},BitAnd:function e(){return y.min(1,arguments,e.name),new i({bitand:_(m(arguments))})},BitNot:function e(t){return y.exact(1,arguments,e.name),new i({bitnot:_(t)})},BitOr:function e(){return y.min(1,arguments,e.name),new i({bitor:_(m(arguments))})},BitXor:function e(){return y.min(1,arguments,e.name),new i({bitxor:_(m(arguments))})},Ceil:function e(t){return y.exact(1,arguments,e.name),new i({ceil:_(t)})},Divide:function e(){return y.min(1,arguments,e.name),new i({divide:_(m(arguments))})},Floor:function e(t){return y.exact(1,arguments,e.name),new i({floor:_(t)})},Max:function e(){return y.min(1,arguments,e.name),new i({max:_(m(arguments))})},Min:function e(){return y.min(1,arguments,e.name),new i({min:_(m(arguments))})},Modulo:function e(){return y.min(1,arguments,e.name),new i({modulo:_(m(arguments))})},Multiply:function e(){return y.min(1,arguments,e.name),new i({multiply:_(m(arguments))})},Round:function e(t,n){return y.min(1,arguments,e.name),n=c.defaults(n,null),new i(v({round:_(t)},{precision:_(n)}))},Subtract:function e(){return y.min(1,arguments,e.name),new i({subtract:_(m(arguments))})},Sign:function e(t){return y.exact(1,arguments,e.name),new i({sign:_(t)})},Sqrt:function e(t){return y.exact(1,arguments,e.name),new i({sqrt:_(t)})},Trunc:function e(t,n){return y.min(1,arguments,e.name),n=c.defaults(n,null),new i(v({trunc:_(t)},{precision:_(n)}))},Count:function e(t){return y.exact(1,arguments,e.name),new i({count:_(t)})},Sum:function e(t){return y.exact(1,arguments,e.name),new i({sum:_(t)})},Mean:function e(t){return y.exact(1,arguments,e.name),new i({mean:_(t)})},Any:function e(t){return y.exact(1,arguments,e.name),new i({any:_(t)})},All:function e(t){return y.exact(1,arguments,e.name),new i({all:_(t)})},Acos:function e(t){return y.exact(1,arguments,e.name),new i({acos:_(t)})},Asin:function e(t){return y.exact(1,arguments,e.name),new i({asin:_(t)})},Atan:function e(t){return y.exact(1,arguments,e.name),new i({atan:_(t)})},Cos:function e(t){return y.exact(1,arguments,e.name),new i({cos:_(t)})},Cosh:function e(t){return y.exact(1,arguments,e.name),new i({cosh:_(t)})},Degrees:function e(t){return y.exact(1,arguments,e.name),new i({degrees:_(t)})},Exp:function e(t){return y.exact(1,arguments,e.name),new i({exp:_(t)})},Hypot:function e(t,n){return y.min(1,arguments,e.name),n=c.defaults(n,null),new i(v({hypot:_(t)},{b:_(n)}))},Ln:function e(t){return y.exact(1,arguments,e.name),new i({ln:_(t)})},Log:function e(t){return y.exact(1,arguments,e.name),new i({log:_(t)})},Pow:function e(t,n){return y.min(1,arguments,e.name),n=c.defaults(n,null),new i(v({pow:_(t)},{exp:_(n)}))},Radians:function e(t){return y.exact(1,arguments,e.name),new i({radians:_(t)})},Sin:function e(t){return y.exact(1,arguments,e.name),new i({sin:_(t)})},Sinh:function e(t){return y.exact(1,arguments,e.name),new i({sinh:_(t)})},Tan:function e(t){return y.exact(1,arguments,e.name),new i({tan:_(t)})},Tanh:function e(t){return y.exact(1,arguments,e.name),new i({tanh:_(t)})},LT:function e(){return y.min(1,arguments,e.name),new i({lt:_(m(arguments))})},LTE:function e(){return y.min(1,arguments,e.name),new i({lte:_(m(arguments))})},GT:function e(){return y.min(1,arguments,e.name),new i({gt:_(m(arguments))})},GTE:function e(){return y.min(1,arguments,e.name),new i({gte:_(m(arguments))})},And:function e(){return y.min(1,arguments,e.name),new i({and:_(m(arguments))})},Or:function e(){return y.min(1,arguments,e.name),new i({or:_(m(arguments))})},Not:function e(t){return y.exact(1,arguments,e.name),new i({not:_(t)})},ToString:function e(t){return y.exact(1,arguments,e.name),new i({to_string:_(t)})},ToNumber:function e(t){return y.exact(1,arguments,e.name),new i({to_number:_(t)})},ToObject:function e(t){return y.exact(1,arguments,e.name),new i({to_object:_(t)})},ToArray:function e(t){return y.exact(1,arguments,e.name),new i({to_array:_(t)})},ToDouble:function e(t){return y.exact(1,arguments,e.name),new i({to_double:_(t)})},ToInteger:function e(t){return y.exact(1,arguments,e.name),new i({to_integer:_(t)})},ToTime:function e(t){return y.exact(1,arguments,e.name),new i({to_time:_(t)})},ToSeconds:function e(t){return y.exact(1,arguments,e.name),new i({to_seconds:_(t)})},ToMicros:function e(t){return y.exact(1,arguments,e.name),new i({to_micros:_(t)})},ToMillis:function e(t){return y.exact(1,arguments,e.name),new i({to_millis:_(t)})},DayOfMonth:function e(t){return y.exact(1,arguments,e.name),new i({day_of_month:_(t)})},DayOfWeek:function e(t){return y.exact(1,arguments,e.name),new i({day_of_week:_(t)})},DayOfYear:function e(t){return y.exact(1,arguments,e.name),new i({day_of_year:_(t)})},Second:function e(t){return y.exact(1,arguments,e.name),new i({second:_(t)})},Minute:function e(t){return y.exact(1,arguments,e.name),new i({minute:_(t)})},Hour:function e(t){return y.exact(1,arguments,e.name),new i({hour:_(t)})},Month:function e(t){return y.exact(1,arguments,e.name),new i({month:_(t)})},Year:function e(t){return y.exact(1,arguments,e.name),new i({year:_(t)})},ToDate:function e(t){return y.exact(1,arguments,e.name),new i({to_date:_(t)})},MoveDatabase:function e(t,n){return y.exact(2,arguments,e.name),new i({move_database:_(t),to:_(n)})},Documents:function e(t){return y.exact(1,arguments,e.name),new i({documents:_(t)})},Reverse:function e(t){return y.exact(1,arguments,e.name),new i({reverse:_(t)})},AccessProvider:function e(t){return y.exact(1,arguments,e.name),new i({access_provider:_(t)})},wrap:_}},316:(e,t,n)=>{"use strict";n(550);var r=n(523),o=n(908),i=n(168),a=n(637),u=n(541),s=n(555),c=["start","error","version","history_rewrite"],f=c.concat(["snapshot"]);function l(e,t,n,r){n=s.applyDefaults(n,{fields:null}),this._client=e,this._onEvent=r,this._query=u.wrap(t),this._urlParams=n.fields?{fields:n.fields.join(",")}:null,this._abort=new AbortController,this._state="idle"}function p(e){this._allowedEvents=e,this._listeners={}}function d(e,t){this._client=e,this._dispatcher=t}l.prototype.snapshot=function(){var e=this;e._client.query(u.Get(e._query)).then((function(t){e._onEvent({type:"snapshot",event:t})})).catch((function(t){e._onEvent({type:"error",event:t})}))},l.prototype.subscribe=function(){var e=this;if("idle"!==e._state)throw new Error("Subscription#start should not be called several times, consider instantiating a new stream instead.");e._state="open";var t=JSON.stringify(e._query),n=Date.now(),u="";function s(t){t instanceof a.AbortError||e._onEvent({type:"error",event:t})}e._client._http.execute({method:"POST",path:"stream",body:t,query:e._urlParams,signal:this._abort.signal,streamConsumer:{onError:s,onData:function(t){var n=i.parseJSONStreaming(u+t);u=n.buffer,n.values.forEach((function(t){void 0!==t.txn&&e._client.syncLastTxnTime(t.txn),"error"===t.event?s(new o.StreamErrorEvent(t)):e._onEvent(t)}))}}}).then((function(o){var a,u=Date.now();try{a=i.parseJSON(o.body)}catch(e){a=o.body}var s=new r("POST","stream",e._urlParams,t,e._query,o.body,a,o.status,o.headers,n,u);e._client._handleRequestResult(o,s)})).catch(s)},l.prototype.close=function(){"closed"!==this._state&&(this._state="closed",this._abort.abort())},p.prototype.on=function(e,t){if(-1===this._allowedEvents.indexOf(e))throw new Error("Unknown event type: "+e);void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t)},p.prototype.dispatch=function(e){var t=this._listeners[e.type];if(t)for(var n=0;n<t.length;n++)t[n].call(null,e.event,e)},d.prototype.on=function(e,t){return this._dispatcher.on(e,t),this},d.prototype.start=function(){return this._client.subscribe(),this},d.prototype.close=function(){this._client.close()},e.exports={StreamAPI:function(e){var t=function(t,n){var r=new p(c);return new d(new l(e,t,n,(function(e){r.dispatch(e)})),r)};return t.document=function(t,n){var r=[],o=!0,i=new p(f),a=new l(e,t,n,(function(e){switch(e.type){case"start":i.dispatch(e),a.snapshot();break;case"snapshot":!function(e){i.dispatch(e);for(var t=0;t<r.length;t++){var n=r[t];n.txn>e.event.ts&&i.dispatch(n)}o=!1,r=null}(e);break;case"error":i.dispatch(e);break;default:o?r.push(e):i.dispatch(e)}}));return new d(a,i)},t}}},885:(e,t,n)=>{"use strict";var r=n(742),o=n(927),i=n(908),a=n(547),u=n(555),s=u.isNodeEnv()?n(569):null,c=s&&s.inspect.custom,f=s?s.inspect:JSON.stringify;function l(){}function p(e,t,n){if(!e)throw new i.InvalidValue("id cannot be null or undefined");this.value={id:e},t&&(this.value.collection=t),n&&(this.value.database=n)}l.prototype._isFaunaValue=!0,u.inherits(l,a),p.prototype._isFaunaRef=!0,u.inherits(p,l),Object.defineProperty(p.prototype,"collection",{get:function(){return this.value.collection}}),Object.defineProperty(p.prototype,"class",{get:o((function(){return this.value.collection}),"class is deprecated, use collection instead")}),Object.defineProperty(p.prototype,"database",{get:function(){return this.value.database}}),Object.defineProperty(p.prototype,"id",{get:function(){return this.value.id}}),p.prototype.toJSON=function(){return{"@ref":this.value}},_(p,(function(){var e={collections:"Collection",databases:"Database",indexes:"Index",functions:"Function",roles:"Role",access_providers:"AccessProvider"},t=function(e){return void 0===e.collection},n=function(r){if(t(r)){var o=void 0!==r.database?r.database.toString():"";return"access_providers"===r.id?"AccessProviders("+o+")":r.id.charAt(0).toUpperCase()+r.id.slice(1)+"("+o+")"}if(t(r.collection)){var i=e[r.collection.id];if(void 0!==i)return o=void 0!==r.database?", "+r.database.toString():"",i+'("'+r.id+'"'+o+")"}return"Ref("+n(r.collection)+', "'+r.id+'")'};return n(this)})),p.prototype.valueOf=function(){return this.value},p.prototype.equals=function(e){return(e instanceof p||u.checkInstanceHasProperty(e,"_isFaunaRef"))&&this.id===e.id&&(void 0===this.collection&&void 0===e.collection||this.collection.equals(e.collection))&&(void 0===this.database&&void 0===e.database||this.database.equals(e.database))};var d={COLLECTIONS:new p("collections"),INDEXES:new p("indexes"),DATABASES:new p("databases"),FUNCTIONS:new p("functions"),ROLES:new p("roles"),KEYS:new p("keys"),ACCESS_PROVIDERS:new p("access_providers")};function h(e){this.value=e}function y(e){if(e instanceof Date)e=e.toISOString();else if("Z"!==e.charAt(e.length-1))throw new i.InvalidValue("Only allowed timezone is 'Z', got: "+e);this.value=e}function v(e){e instanceof Date&&(e=e.toISOString().slice(0,10)),this.value=e}function m(e){if(e instanceof ArrayBuffer)this.value=new Uint8Array(e);else if("string"==typeof e)this.value=r.toByteArray(e);else{if(!(e instanceof Uint8Array))throw new i.InvalidValue("Bytes type expect argument to be either Uint8Array|ArrayBuffer|string, got: "+f(e));this.value=e}}function g(e){this.value=e}function _(e,t){e.prototype.toString=t,e.prototype.inspect=t,c&&(e.prototype[c]=t)}d.fromName=function(e){switch(e){case"collections":return d.COLLECTIONS;case"indexes":return d.INDEXES;case"databases":return d.DATABASES;case"functions":return d.FUNCTIONS;case"roles":return d.ROLES;case"keys":return d.KEYS;case"access_providers":return d.ACCESS_PROVIDERS}return new p(e)},u.inherits(h,l),_(h,(function(){return a.toString(this.value)})),h.prototype.toJSON=function(){return{"@set":this.value}},u.inherits(y,l),Object.defineProperty(y.prototype,"date",{get:function(){return new Date(this.value)}}),_(y,(function(){return'Time("'+this.value+'")'})),y.prototype.toJSON=function(){return{"@ts":this.value}},u.inherits(v,l),Object.defineProperty(v.prototype,"date",{get:function(){return new Date(this.value)}}),_(v,(function(){return'Date("'+this.value+'")'})),v.prototype.toJSON=function(){return{"@date":this.value}},u.inherits(m,l),_(m,(function(){return'Bytes("'+r.fromByteArray(this.value)+'")'})),m.prototype.toJSON=function(){return{"@bytes":r.fromByteArray(this.value)}},u.inherits(g,l),_(g,(function(){return"Query("+a.toString(this.value)+")"})),g.prototype.toJSON=function(){return{"@query":this.value}},e.exports={Value:l,Ref:p,Native:d,SetRef:h,FaunaTime:y,FaunaDate:v,Bytes:m,Query:g}},228:e=>{"use strict";e.exports=function(e){if("function"!=typeof e)throw new Error("Could not parse function signature for injection dependencies: Object is not a function");if(!e.length)return[];var t=/^()\(?([^)=]*)\)? *=>/.exec(e+"")||/^[^(]+([^ \(]*) *\(([^\)]*)\)/.exec(e+"");if(!t)throw new Error("Could not parse function signature for injection dependencies: "+e);var n=t[2].replace(/\/\*[\S\s]*?\*\//g," ").replace(/\/\/.*/g," ");function r(e,t,n){return t+n.split(",").map((function(e){return e&&e.trim()})).filter(Boolean).join("@")}return(n=(n=n.replace(/(\{)([^}]*)\}/g,r)).replace(/(\[)([^}]*)\]/g,r)).split(",").map((function(e){return e&&e.trim()})).map((function(e){return"{"===e[0]?e.substring(1).split("@"):"["===e[0]?{items:e.substring(1).split("@")}:e})).filter(Boolean)}},486:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=32,c=128,f=1/0,l=9007199254740991,p=NaN,d=4294967295,h=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],y="[object Arguments]",v="[object Array]",m="[object Boolean]",g="[object Date]",_="[object Error]",w="[object Function]",b="[object GeneratorFunction]",x="[object Map]",E="[object Number]",O="[object Object]",S="[object Promise]",T="[object RegExp]",A="[object Set]",j="[object String]",k="[object Symbol]",I="[object WeakMap]",C="[object ArrayBuffer]",P="[object DataView]",N="[object Float32Array]",R="[object Float64Array]",D="[object Int8Array]",L="[object Int16Array]",M="[object Int32Array]",B="[object Uint8Array]",Z="[object Uint8ClampedArray]",U="[object Uint16Array]",q="[object Uint32Array]",F=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,G=RegExp(z.source),K=RegExp(H.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,we=/['\n\r\u2028\u2029\\]/g,be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Se="["+Oe+"]",Te="["+be+"]",Ae="\\d+",je="["+xe+"]",ke="[^\\ud800-\\udfff"+Oe+Ae+"\\u2700-\\u27bf"+xe+Ee+"]",Ie="\\ud83c[\\udffb-\\udfff]",Ce="[^\\ud800-\\udfff]",Pe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",Re="["+Ee+"]",De="(?:"+je+"|"+ke+")",Le="(?:"+Re+"|"+ke+")",Me="(?:['â€™](?:d|ll|m|re|s|t|ve))?",Be="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",Ze="(?:"+Te+"|"+Ie+")?",Ue="[\\ufe0e\\ufe0f]?",qe=Ue+Ze+"(?:\\u200d(?:"+[Ce,Pe,Ne].join("|")+")"+Ue+Ze+")*",Fe="(?:"+["[\\u2700-\\u27bf]",Pe,Ne].join("|")+")"+qe,We="(?:"+[Ce+Te+"?",Te,Pe,Ne,"[\\ud800-\\udfff]"].join("|")+")",Ve=RegExp("['â€™]","g"),ze=RegExp(Te,"g"),He=RegExp(Ie+"(?="+Ie+")|"+We+qe,"g"),Ge=RegExp([Re+"?"+je+"+"+Me+"(?="+[Se,Re,"$"].join("|")+")",Le+"+"+Be+"(?="+[Se,Re+De,"$"].join("|")+")",Re+"?"+De+"+"+Me,Re+"+"+Be,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ae,Fe].join("|"),"g"),Ke=RegExp("[\\u200d\\ud800-\\udfff"+be+"\\ufe0e\\ufe0f]"),Je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$e=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xe=-1,Ye={};Ye[N]=Ye[R]=Ye[D]=Ye[L]=Ye[M]=Ye[B]=Ye[Z]=Ye[U]=Ye[q]=!0,Ye[y]=Ye[v]=Ye[C]=Ye[m]=Ye[P]=Ye[g]=Ye[_]=Ye[w]=Ye[x]=Ye[E]=Ye[O]=Ye[T]=Ye[A]=Ye[j]=Ye[I]=!1;var Qe={};Qe[y]=Qe[v]=Qe[C]=Qe[P]=Qe[m]=Qe[g]=Qe[N]=Qe[R]=Qe[D]=Qe[L]=Qe[M]=Qe[x]=Qe[E]=Qe[O]=Qe[T]=Qe[A]=Qe[j]=Qe[k]=Qe[B]=Qe[Z]=Qe[U]=Qe[q]=!0,Qe[_]=Qe[w]=Qe[I]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,rt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ot="object"==typeof self&&self&&self.Object===Object&&self,it=rt||ot||Function("return this")(),at=t&&!t.nodeType&&t,ut=at&&e&&!e.nodeType&&e,st=ut&&ut.exports===at,ct=st&&rt.process,ft=function(){try{return ut&&ut.require&&ut.require("util").types||ct&&ct.binding&&ct.binding("util")}catch(e){}}(),lt=ft&&ft.isArrayBuffer,pt=ft&&ft.isDate,dt=ft&&ft.isMap,ht=ft&&ft.isRegExp,yt=ft&&ft.isSet,vt=ft&&ft.isTypedArray;function mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function gt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function _t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function wt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function xt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Et(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function St(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Tt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function At(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function jt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var It=Mt("length");function Ct(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Pt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Nt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Pt(e,Dt,n)}function Rt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Dt(e){return e!=e}function Lt(e,t){var n=null==e?0:e.length;return n?Ut(e,t)/n:p}function Mt(e){return function(t){return null==t?o:t[e]}}function Bt(e){return function(t){return null==e?o:e[t]}}function Zt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Ut(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ft(e){return e?e.slice(0,un(e)+1).replace(re,""):e}function Wt(e){return function(t){return e(t)}}function Vt(e,t){return St(t,(function(t){return e[t]}))}function zt(e,t){return e.has(t)}function Ht(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function Gt(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function Kt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Jt=Bt({Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"}),$t=Bt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xt(e){return"\\"+et[e]}function Yt(e){return Ke.test(e)}function Qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[o++]=n)}return i}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function on(e){return Yt(e)?function(e){for(var t=He.lastIndex=0;He.test(e);)++t;return t}(e):It(e)}function an(e){return Yt(e)?function(e){return e.match(He)||[]}(e):function(e){return e.split("")}(e)}function un(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var sn=Bt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function e(t){var n,r=(t=null==t?it:cn.defaults(it.Object(),t,cn.pick(it,$e))).Array,oe=t.Date,be=t.Error,xe=t.Function,Ee=t.Math,Oe=t.Object,Se=t.RegExp,Te=t.String,Ae=t.TypeError,je=r.prototype,ke=xe.prototype,Ie=Oe.prototype,Ce=t["__core-js_shared__"],Pe=ke.toString,Ne=Ie.hasOwnProperty,Re=0,De=(n=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Le=Ie.toString,Me=Pe.call(Oe),Be=it._,Ze=Se("^"+Pe.call(Ne).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=st?t.Buffer:o,qe=t.Symbol,Fe=t.Uint8Array,We=Ue?Ue.allocUnsafe:o,He=en(Oe.getPrototypeOf,Oe),Ke=Oe.create,et=Ie.propertyIsEnumerable,rt=je.splice,ot=qe?qe.isConcatSpreadable:o,at=qe?qe.iterator:o,ut=qe?qe.toStringTag:o,ct=function(){try{var e=fi(Oe,"defineProperty");return e({},"",{}),e}catch(e){}}(),ft=t.clearTimeout!==it.clearTimeout&&t.clearTimeout,It=oe&&oe.now!==it.Date.now&&oe.now,Bt=t.setTimeout!==it.setTimeout&&t.setTimeout,fn=Ee.ceil,ln=Ee.floor,pn=Oe.getOwnPropertySymbols,dn=Ue?Ue.isBuffer:o,hn=t.isFinite,yn=je.join,vn=en(Oe.keys,Oe),mn=Ee.max,gn=Ee.min,_n=oe.now,wn=t.parseInt,bn=Ee.random,xn=je.reverse,En=fi(t,"DataView"),On=fi(t,"Map"),Sn=fi(t,"Promise"),Tn=fi(t,"Set"),An=fi(t,"WeakMap"),jn=fi(Oe,"create"),kn=An&&new An,In={},Cn=Zi(En),Pn=Zi(On),Nn=Zi(Sn),Rn=Zi(Tn),Dn=Zi(An),Ln=qe?qe.prototype:o,Mn=Ln?Ln.valueOf:o,Bn=Ln?Ln.toString:o;function Zn(e){if(nu(e)&&!za(e)&&!(e instanceof Wn)){if(e instanceof Fn)return e;if(Ne.call(e,"__wrapped__"))return Ui(e)}return new Fn(e)}var Un=function(){function e(){}return function(t){if(!tu(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function Fn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new zn(e);this.size=t.size}function Jn(e,t){var n=za(e),r=!n&&Va(e),o=!n&&!r&&Ja(e),i=!n&&!r&&!o&&fu(e),a=n||r||o||i,u=a?qt(e.length,Te):[],s=u.length;for(var c in e)!t&&!Ne.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mi(c,s))||u.push(c);return u}function $n(e){var t=e.length;return t?e[Hr(0,t-1)]:o}function Xn(e,t){return Ri(jo(e),ar(t,0,e.length))}function Yn(e){return Ri(jo(e))}function Qn(e,t,n){(n!==o&&!qa(e[t],n)||n===o&&!(t in e))&&or(e,t,n)}function er(e,t,n){var r=e[t];Ne.call(e,t)&&qa(r,n)&&(n!==o||t in e)||or(e,t,n)}function tr(e,t){for(var n=e.length;n--;)if(qa(e[n][0],t))return n;return-1}function nr(e,t,n,r){return lr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function rr(e,t){return e&&ko(t,Pu(t),e)}function or(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,i=t.length,a=r(i),u=null==e;++n<i;)a[n]=u?o:Au(e,t[n]);return a}function ar(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var u,s=1&t,c=2&t,f=4&t;if(n&&(u=i?n(e,r,i,a):n(e)),u!==o)return u;if(!tu(e))return e;var l=za(e);if(l){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return jo(e,u)}else{var p=di(e),d=p==w||p==b;if(Ja(e))return xo(e,s);if(p==O||p==y||d&&!i){if(u=c||d?{}:yi(e),!s)return c?function(e,t){return ko(e,pi(e),t)}(e,function(e,t){return e&&ko(t,Nu(t),e)}(u,e)):function(e,t){return ko(e,li(e),t)}(e,rr(u,e))}else{if(!Qe[p])return i?e:{};u=function(e,t,n){var r,o=e.constructor;switch(t){case C:return Eo(e);case m:case g:return new o(+e);case P:return function(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case R:case D:case L:case M:case B:case Z:case U:case q:return Oo(e,n);case x:case A:return new o;case E:case j:return new o(e);case T:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return r=e,Mn?Oe(Mn.call(r)):{}}}(e,p,s)}}a||(a=new Kn);var h=a.get(e);if(h)return h;a.set(e,u),uu(e)?e.forEach((function(r){u.add(ur(r,t,n,r,e,a))})):ru(e)&&e.forEach((function(r,o){u.set(o,ur(r,t,n,o,e,a))}));var v=l?o:(f?c?ri:ni:c?Nu:Pu)(e);return _t(v||e,(function(r,o){v&&(r=e[o=r]),er(u,o,ur(r,t,n,o,e,a))})),u}function sr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Oe(e);r--;){var i=n[r],a=t[i],u=e[i];if(u===o&&!(i in e)||!a(u))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ae(i);return Ii((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=Et,a=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=St(t,Wt(n))),r?(i=Ot,a=!1):t.length>=200&&(i=zt,a=!1,t=new Gn(t));e:for(;++o<u;){var f=e[o],l=null==n?f:n(f);if(f=r||0!==f?f:0,a&&l==l){for(var p=c;p--;)if(t[p]===l)continue e;s.push(f)}else i(t,l,r)||s.push(f)}return s}Zn.templateSettings={escape:J,evaluate:$,interpolate:X,variable:"",imports:{_:Zn}},Zn.prototype=qn.prototype,Zn.prototype.constructor=Zn,Fn.prototype=Un(qn.prototype),Fn.prototype.constructor=Fn,Wn.prototype=Un(qn.prototype),Wn.prototype.constructor=Wn,Vn.prototype.clear=function(){this.__data__=jn?jn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(jn){var n=t[e];return n===a?o:n}return Ne.call(t,e)?t[e]:o},Vn.prototype.has=function(e){var t=this.__data__;return jn?t[e]!==o:Ne.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jn&&t===o?a:t,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,0))},zn.prototype.get=function(e){var t=this.__data__,n=tr(t,e);return n<0?o:t[n][1]},zn.prototype.has=function(e){return tr(this.__data__,e)>-1},zn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(On||zn),string:new Vn}},Hn.prototype.delete=function(e){var t=si(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return si(this,e).get(e)},Hn.prototype.has=function(e){return si(this,e).has(e)},Hn.prototype.set=function(e,t){var n=si(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,a),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new zn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!On||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var lr=Po(_r),pr=Po(wr,!0);function dr(e,t){var n=!0;return lr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function hr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],u=t(a);if(null!=u&&(s===o?u==u&&!cu(u):n(u,s)))var s=u,c=a}return c}function yr(e,t){var n=[];return lr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function vr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=vi),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?vr(u,t-1,n,r,o):Tt(o,u):r||(o[o.length]=u)}return o}var mr=No(),gr=No(!0);function _r(e,t){return e&&mr(e,t,Pu)}function wr(e,t){return e&&gr(e,t,Pu)}function br(e,t){return xt(t,(function(t){return Ya(e[t])}))}function xr(e,t){for(var n=0,r=(t=go(t,e)).length;null!=e&&n<r;)e=e[Bi(t[n++])];return n&&n==r?e:o}function Er(e,t,n){var r=t(e);return za(e)?r:Tt(r,n(e))}function Or(e){return null==e?e===o?"[object Undefined]":"[object Null]":ut&&ut in Oe(e)?function(e){var t=Ne.call(e,ut),n=e[ut];try{e[ut]=o;var r=!0}catch(e){}var i=Le.call(e);return r&&(t?e[ut]=n:delete e[ut]),i}(e):function(e){return Le.call(e)}(e)}function Sr(e,t){return e>t}function Tr(e,t){return null!=e&&Ne.call(e,t)}function Ar(e,t){return null!=e&&t in Oe(e)}function jr(e,t,n){for(var i=n?Ot:Et,a=e[0].length,u=e.length,s=u,c=r(u),f=1/0,l=[];s--;){var p=e[s];s&&t&&(p=St(p,Wt(t))),f=gn(p.length,f),c[s]=!n&&(t||a>=120&&p.length>=120)?new Gn(s&&p):o}p=e[0];var d=-1,h=c[0];e:for(;++d<a&&l.length<f;){var y=p[d],v=t?t(y):y;if(y=n||0!==y?y:0,!(h?zt(h,v):i(l,v,n))){for(s=u;--s;){var m=c[s];if(!(m?zt(m,v):i(e[s],v,n)))continue e}h&&h.push(v),l.push(y)}}return l}function kr(e,t,n){var r=null==(e=Ti(e,t=go(t,e)))?e:e[Bi(Xi(t))];return null==r?o:mt(r,e,n)}function Ir(e){return nu(e)&&Or(e)==y}function Cr(e,t,n,r,i){return e===t||(null==e||null==t||!nu(e)&&!nu(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var u=za(e),s=za(t),c=u?v:di(e),f=s?v:di(t),l=(c=c==y?O:c)==O,p=(f=f==y?O:f)==O,d=c==f;if(d&&Ja(e)){if(!Ja(t))return!1;u=!0,l=!1}if(d&&!l)return a||(a=new Kn),u||fu(e)?ei(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!i(new Fe(e),new Fe(t)));case m:case g:case E:return qa(+e,+t);case _:return e.name==t.name&&e.message==t.message;case T:case j:return e==t+"";case x:var u=Qt;case A:var s=1&r;if(u||(u=nn),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var f=ei(u(e),u(t),r,o,i,a);return a.delete(e),f;case k:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,c,n,r,i,a);if(!(1&n)){var h=l&&Ne.call(e,"__wrapped__"),w=p&&Ne.call(t,"__wrapped__");if(h||w){var b=h?e.value():e,S=w?t.value():t;return a||(a=new Kn),i(b,S,n,r,a)}}return!!d&&(a||(a=new Kn),function(e,t,n,r,i,a){var u=1&n,s=ni(e),c=s.length;if(c!=ni(t).length&&!u)return!1;for(var f=c;f--;){var l=s[f];if(!(u?l in t:Ne.call(t,l)))return!1}var p=a.get(e),d=a.get(t);if(p&&d)return p==t&&d==e;var h=!0;a.set(e,t),a.set(t,e);for(var y=u;++f<c;){var v=e[l=s[f]],m=t[l];if(r)var g=u?r(m,v,l,t,e,a):r(v,m,l,e,t,a);if(!(g===o?v===m||i(v,m,n,r,a):g)){h=!1;break}y||(y="constructor"==l)}if(h&&!y){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,i,a))}(e,t,n,r,Cr,i))}function Pr(e,t,n,r){var i=n.length,a=i,u=!r;if(null==e)return!a;for(e=Oe(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=n[i])[0],f=e[c],l=s[1];if(u&&s[2]){if(f===o&&!(c in e))return!1}else{var p=new Kn;if(r)var d=r(f,l,c,e,t,p);if(!(d===o?Cr(l,f,3,r,p):d))return!1}}return!0}function Nr(e){return!(!tu(e)||(t=e,De&&De in t))&&(Ya(e)?Ze:ye).test(Zi(e));var t}function Rr(e){return"function"==typeof e?e:null==e?os:"object"==typeof e?za(e)?Zr(e[0],e[1]):Br(e):ds(e)}function Dr(e){if(!xi(e))return vn(e);var t=[];for(var n in Oe(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e,t){return e<t}function Mr(e,t){var n=-1,o=Ga(e)?r(e.length):[];return lr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Br(e){var t=ci(e);return 1==t.length&&t[0][2]?Oi(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Zr(e,t){return _i(e)&&Ei(t)?Oi(Bi(e),t):function(n){var r=Au(n,e);return r===o&&r===t?ju(n,e):Cr(t,r,3)}}function Ur(e,t,n,r,i){e!==t&&mr(t,(function(a,u){if(i||(i=new Kn),tu(a))!function(e,t,n,r,i,a,u){var s=ji(e,n),c=ji(t,n),f=u.get(c);if(f)Qn(e,n,f);else{var l=a?a(s,c,n+"",e,t,u):o,p=l===o;if(p){var d=za(c),h=!d&&Ja(c),y=!d&&!h&&fu(c);l=c,d||h||y?za(s)?l=s:Ka(s)?l=jo(s):h?(p=!1,l=xo(c,!0)):y?(p=!1,l=Oo(c,!0)):l=[]:iu(c)||Va(c)?(l=s,Va(s)?l=gu(s):tu(s)&&!Ya(s)||(l=yi(c))):p=!1}p&&(u.set(c,l),i(l,c,r,a,u),u.delete(c)),Qn(e,n,l)}}(e,t,u,n,Ur,r,i);else{var s=r?r(ji(e,u),a,u+"",e,t,i):o;s===o&&(s=a),Qn(e,u,s)}}),Nu)}function qr(e,t){var n=e.length;if(n)return mi(t+=t<0?n:0,n)?e[t]:o}function Fr(e,t,n){t=t.length?St(t,(function(e){return za(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[os];var r=-1;t=St(t,Wt(ui()));var o=Mr(e,(function(e,n,o){var i=St(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;++r<a;){var s=So(o[r],i[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(o)}function Wr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=xr(e,a);n(u,a)&&Xr(i,go(a,e),u)}return i}function Vr(e,t,n,r){var o=r?Rt:Nt,i=-1,a=t.length,u=e;for(e===t&&(t=jo(t)),n&&(u=St(e,Wt(n)));++i<a;)for(var s=0,c=t[i],f=n?n(c):c;(s=o(u,f,s,r))>-1;)u!==e&&rt.call(u,s,1),rt.call(e,s,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;mi(o)?rt.call(e,o,1):co(e,o)}}return e}function Hr(e,t){return e+ln(bn()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>l)return n;do{t%2&&(n+=e),(t=ln(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return Ci(Si(e,t,os),e+"")}function Jr(e){return $n(qu(e))}function $r(e,t){var n=qu(e);return Ri(n,ar(t,0,n.length))}function Xr(e,t,n,r){if(!tu(e))return e;for(var i=-1,a=(t=go(t,e)).length,u=a-1,s=e;null!=s&&++i<a;){var c=Bi(t[i]),f=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=u){var l=s[c];(f=r?r(l,c,s):o)===o&&(f=tu(l)?l:mi(t[i+1])?[]:{})}er(s,c,f),s=s[c]}return e}var Yr=kn?function(e,t){return kn.set(e,t),e}:os,Qr=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:os;function eo(e){return Ri(qu(e))}function to(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function no(e,t){var n;return lr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ro(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!cu(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return oo(e,t,os,n)}function oo(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,s=null===t,c=cu(t),f=t===o;i<a;){var l=ln((i+a)/2),p=n(e[l]),d=p!==o,h=null===p,y=p==p,v=cu(p);if(u)var m=r||y;else m=f?y&&(r||d):s?y&&d&&(r||!h):c?y&&d&&!h&&(r||!v):!h&&!v&&(r?p<=t:p<t);m?i=l+1:a=l}return gn(a,4294967294)}function io(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!qa(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function ao(e){return"number"==typeof e?e:cu(e)?p:+e}function uo(e){if("string"==typeof e)return e;if(za(e))return St(e,uo)+"";if(cu(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function so(e,t,n){var r=-1,o=Et,i=e.length,a=!0,u=[],s=u;if(n)a=!1,o=Ot;else if(i>=200){var c=t?null:Ko(e);if(c)return nn(c);a=!1,o=zt,s=new Gn}else s=t?[]:u;e:for(;++r<i;){var f=e[r],l=t?t(f):f;if(f=n||0!==f?f:0,a&&l==l){for(var p=s.length;p--;)if(s[p]===l)continue e;t&&s.push(l),u.push(f)}else o(s,l,n)||(s!==u&&s.push(l),u.push(f))}return u}function co(e,t){return null==(e=Ti(e,t=go(t,e)))||delete e[Bi(Xi(t))]}function fo(e,t,n,r){return Xr(e,t,n(xr(e,t)),r)}function lo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?to(e,r?0:i,r?i+1:o):to(e,r?i+1:0,r?o:i)}function po(e,t){var n=e;return n instanceof Wn&&(n=n.value()),At(t,(function(e,t){return t.func.apply(t.thisArg,Tt([e],t.args))}),n)}function ho(e,t,n){var o=e.length;if(o<2)return o?so(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var u=e[i],s=-1;++s<o;)s!=i&&(a[i]=fr(a[i]||u,e[s],t,n));return so(vr(a,1),t,n)}function yo(e,t,n){for(var r=-1,i=e.length,a=t.length,u={};++r<i;){var s=r<a?t[r]:o;n(u,e[r],s)}return u}function vo(e){return Ka(e)?e:[]}function mo(e){return"function"==typeof e?e:os}function go(e,t){return za(e)?e:_i(e,t)?[e]:Mi(_u(e))}var _o=Kr;function wo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:to(e,t,n)}var bo=ft||function(e){return it.clearTimeout(e)};function xo(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Eo(e){var t=new e.constructor(e.byteLength);return new Fe(t).set(new Fe(e)),t}function Oo(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function So(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=cu(e),u=t!==o,s=null===t,c=t==t,f=cu(t);if(!s&&!f&&!a&&e>t||a&&u&&c&&!s&&!f||r&&u&&c||!n&&c||!i)return 1;if(!r&&!a&&!f&&e<t||f&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}function To(e,t,n,o){for(var i=-1,a=e.length,u=n.length,s=-1,c=t.length,f=mn(a-u,0),l=r(c+f),p=!o;++s<c;)l[s]=t[s];for(;++i<u;)(p||i<a)&&(l[n[i]]=e[i]);for(;f--;)l[s++]=e[i++];return l}function Ao(e,t,n,o){for(var i=-1,a=e.length,u=-1,s=n.length,c=-1,f=t.length,l=mn(a-s,0),p=r(l+f),d=!o;++i<l;)p[i]=e[i];for(var h=i;++c<f;)p[h+c]=t[c];for(;++u<s;)(d||i<a)&&(p[h+n[u]]=e[i++]);return p}function jo(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function ko(e,t,n,r){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],c=r?r(n[s],e[s],s,n,e):o;c===o&&(c=e[s]),i?or(n,s,c):er(n,s,c)}return n}function Io(e,t){return function(n,r){var o=za(n)?gt:nr,i=t?t():{};return o(n,e,ui(r,2),i)}}function Co(e){return Kr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,u&&gi(n[0],n[1],u)&&(a=i<3?o:a,i=1),t=Oe(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}function Po(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Oe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function No(e){return function(t,n,r){for(var o=-1,i=Oe(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}function Ro(e){return function(t){var n=Yt(t=_u(t))?an(t):o,r=n?n[0]:t.charAt(0),i=n?wo(n,1).join(""):t.slice(1);return r[e]()+i}}function Do(e){return function(t){return At(Yu(Vu(t).replace(Ve,"")),e,"")}}function Lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return tu(r)?r:n}}function Mo(e){return function(t,n,r){var i=Oe(t);if(!Ga(t)){var a=ui(n,3);t=Pu(t),n=function(e){return a(i[e],e,i)}}var u=e(t,n,r);return u>-1?i[a?t[u]:u]:o}}function Bo(e){return ti((function(t){var n=t.length,r=n,a=Fn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ae(i);if(a&&!s&&"wrapper"==ii(u))var s=new Fn([],!0)}for(r=s?r:n;++r<n;){var c=ii(u=t[r]),f="wrapper"==c?oi(u):o;s=f&&wi(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?s[ii(f[0])].apply(s,f[3]):1==u.length&&wi(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&za(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Zo(e,t,n,i,a,u,s,f,l,p){var d=t&c,h=1&t,y=2&t,v=24&t,m=512&t,g=y?o:Lo(e);return function o(){for(var c=arguments.length,_=r(c),w=c;w--;)_[w]=arguments[w];if(v)var b=ai(o),x=Kt(_,b);if(i&&(_=To(_,i,a,v)),u&&(_=Ao(_,u,s,v)),c-=x,v&&c<p){var E=tn(_,b);return Ho(e,t,Zo,o.placeholder,n,_,E,f,l,p-c)}var O=h?n:this,S=y?O[e]:e;return c=_.length,f?_=Ai(_,f):m&&c>1&&_.reverse(),d&&l<c&&(_.length=l),this&&this!==it&&this instanceof o&&(S=g||Lo(S)),S.apply(O,_)}}function Uo(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function qo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=uo(n),r=uo(r)):(n=ao(n),r=ao(r)),i=e(n,r)}return i}}function Fo(e){return ti((function(t){return t=St(t,Wt(ui())),Kr((function(n){var r=this;return e(t,(function(e){return mt(e,r,n)}))}))}))}function Wo(e,t){var n=(t=t===o?" ":uo(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,fn(e/on(t)));return Yt(t)?wo(an(r),0,e).join(""):r.slice(0,e)}function Vo(e){return function(t,n,i){return i&&"number"!=typeof i&&gi(t,n,i)&&(n=i=o),t=hu(t),n===o?(n=t,t=0):n=hu(n),function(e,t,n,o){for(var i=-1,a=mn(fn((t-e)/(n||1)),0),u=r(a);a--;)u[o?a:++i]=e,e+=n;return u}(t,n,i=i===o?t<n?1:-1:hu(i),e)}}function zo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=mu(t),n=mu(n)),e(t,n)}}function Ho(e,t,n,r,i,a,u,c,f,l){var p=8&t;t|=p?s:64,4&(t&=~(p?64:s))||(t&=-4);var d=[e,t,i,p?a:o,p?u:o,p?o:a,p?o:u,c,f,l],h=n.apply(o,d);return wi(e)&&ki(h,d),h.placeholder=r,Pi(h,e,t)}function Go(e){var t=Ee[e];return function(e,n){if(e=mu(e),(n=null==n?0:gn(yu(n),292))&&hn(e)){var r=(_u(e)+"e").split("e");return+((r=(_u(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ko=Tn&&1/nn(new Tn([,-0]))[1]==f?function(e){return new Tn(e)}:cs;function Jo(e){return function(t){var n=di(t);return n==x?Qt(t):n==A?rn(t):function(e,t){return St(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $o(e,t,n,a,f,l,p,d){var h=2&t;if(!h&&"function"!=typeof e)throw new Ae(i);var y=a?a.length:0;if(y||(t&=-97,a=f=o),p=p===o?p:mn(yu(p),0),d=d===o?d:yu(d),y-=f?f.length:0,64&t){var v=a,m=f;a=f=o}var g=h?o:oi(e),_=[e,t,n,a,f,v,m,l,p,d];if(g&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var f=e[3];e[3]=f?To(f,s,t[4]):s,e[4]=f?tn(e[3],u):t[4]}(s=t[5])&&(f=e[5],e[5]=f?Ao(f,s,t[6]):s,e[6]=f?tn(e[5],u):t[6]),(s=t[7])&&(e[7]=s),r&c&&(e[8]=null==e[8]?t[8]:gn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(_,g),e=_[0],t=_[1],n=_[2],a=_[3],f=_[4],!(d=_[9]=_[9]===o?h?0:e.length:mn(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,n){var i=Lo(e);return function a(){for(var u=arguments.length,s=r(u),c=u,f=ai(a);c--;)s[c]=arguments[c];var l=u<3&&s[0]!==f&&s[u-1]!==f?[]:tn(s,f);return(u-=l.length)<n?Ho(e,t,Zo,a.placeholder,o,s,l,o,o,n-u):mt(this&&this!==it&&this instanceof a?i:e,this,s)}}(e,t,d):t!=s&&33!=t||f.length?Zo.apply(o,_):function(e,t,n,o){var i=1&t,a=Lo(e);return function t(){for(var u=-1,s=arguments.length,c=-1,f=o.length,l=r(f+s),p=this&&this!==it&&this instanceof t?a:e;++c<f;)l[c]=o[c];for(;s--;)l[c++]=arguments[++u];return mt(p,i?n:this,l)}}(e,t,n,a);else var w=function(e,t,n){var r=1&t,o=Lo(e);return function t(){return(this&&this!==it&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Pi((g?Yr:ki)(w,_),e,t)}function Xo(e,t,n,r){return e===o||qa(e,Ie[n])&&!Ne.call(r,n)?t:e}function Yo(e,t,n,r,i,a){return tu(e)&&tu(t)&&(a.set(t,e),Ur(e,t,o,Yo,a),a.delete(t)),e}function Qo(e){return iu(e)?o:e}function ei(e,t,n,r,i,a){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var f=a.get(e),l=a.get(t);if(f&&l)return f==t&&l==e;var p=-1,d=!0,h=2&n?new Gn:o;for(a.set(e,t),a.set(t,e);++p<s;){var y=e[p],v=t[p];if(r)var m=u?r(v,y,p,t,e,a):r(y,v,p,e,t,a);if(m!==o){if(m)continue;d=!1;break}if(h){if(!kt(t,(function(e,t){if(!zt(h,t)&&(y===e||i(y,e,n,r,a)))return h.push(t)}))){d=!1;break}}else if(y!==v&&!i(y,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ti(e){return Ci(Si(e,o,Hi),e+"")}function ni(e){return Er(e,Pu,li)}function ri(e){return Er(e,Nu,pi)}var oi=kn?function(e){return kn.get(e)}:cs;function ii(e){for(var t=e.name+"",n=In[t],r=Ne.call(In,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ai(e){return(Ne.call(Zn,"placeholder")?Zn:e).placeholder}function ui(){var e=Zn.iteratee||is;return e=e===is?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function si(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ci(e){for(var t=Pu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ei(o)]}return t}function fi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Nr(n)?n:o}var li=pn?function(e){return null==e?[]:(e=Oe(e),xt(pn(e),(function(t){return et.call(e,t)})))}:vs,pi=pn?function(e){for(var t=[];e;)Tt(t,li(e)),e=He(e);return t}:vs,di=Or;function hi(e,t,n){for(var r=-1,o=(t=go(t,e)).length,i=!1;++r<o;){var a=Bi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&eu(o)&&mi(a,o)&&(za(e)||Va(e))}function yi(e){return"function"!=typeof e.constructor||xi(e)?{}:Un(He(e))}function vi(e){return za(e)||Va(e)||!!(ot&&e&&e[ot])}function mi(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function gi(e,t,n){if(!tu(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&mi(t,n.length):"string"==r&&t in n)&&qa(n[t],e)}function _i(e,t){if(za(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cu(e))||Q.test(e)||!Y.test(e)||null!=t&&e in Oe(t)}function wi(e){var t=ii(e),n=Zn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=oi(n);return!!r&&e===r[0]}(En&&di(new En(new ArrayBuffer(1)))!=P||On&&di(new On)!=x||Sn&&di(Sn.resolve())!=S||Tn&&di(new Tn)!=A||An&&di(new An)!=I)&&(di=function(e){var t=Or(e),n=t==O?e.constructor:o,r=n?Zi(n):"";if(r)switch(r){case Cn:return P;case Pn:return x;case Nn:return S;case Rn:return A;case Dn:return I}return t});var bi=Ce?Ya:ms;function xi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function Ei(e){return e==e&&!tu(e)}function Oi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in Oe(n))}}function Si(e,t,n){return t=mn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=mn(o.length-t,0),u=r(a);++i<a;)u[i]=o[t+i];i=-1;for(var s=r(t+1);++i<t;)s[i]=o[i];return s[t]=n(u),mt(e,this,s)}}function Ti(e,t){return t.length<2?e:xr(e,to(t,0,-1))}function Ai(e,t){for(var n=e.length,r=gn(t.length,n),i=jo(e);r--;){var a=t[r];e[r]=mi(a,n)?i[a]:o}return e}function ji(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ki=Ni(Yr),Ii=Bt||function(e,t){return it.setTimeout(e,t)},Ci=Ni(Qr);function Pi(e,t,n){var r=t+"";return Ci(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return _t(h,(function(n){var r="_."+n[0];t&n[1]&&!Et(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ue):[]}(r),n)))}function Ni(e){var t=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ri(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Hr(n,i),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var Di,Li,Mi=(Di=Da((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,o){t.push(r?o.replace(fe,"$1"):n||e)})),t}),(function(e){return 500===Li.size&&Li.clear(),e})),Li=Di.cache,Di);function Bi(e){if("string"==typeof e||cu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zi(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ui(e){if(e instanceof Wn)return e.clone();var t=new Fn(e.__wrapped__,e.__chain__);return t.__actions__=jo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var qi=Kr((function(e,t){return Ka(e)?fr(e,vr(t,1,Ka,!0)):[]})),Fi=Kr((function(e,t){var n=Xi(t);return Ka(n)&&(n=o),Ka(e)?fr(e,vr(t,1,Ka,!0),ui(n,2)):[]})),Wi=Kr((function(e,t){var n=Xi(t);return Ka(n)&&(n=o),Ka(e)?fr(e,vr(t,1,Ka,!0),o,n):[]}));function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:yu(n);return o<0&&(o=mn(r+o,0)),Pt(e,ui(t,3),o)}function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=yu(n),i=n<0?mn(r+i,0):gn(i,r-1)),Pt(e,ui(t,3),i,!0)}function Hi(e){return null!=e&&e.length?vr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Ki=Kr((function(e){var t=St(e,vo);return t.length&&t[0]===e[0]?jr(t):[]})),Ji=Kr((function(e){var t=Xi(e),n=St(e,vo);return t===Xi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?jr(n,ui(t,2)):[]})),$i=Kr((function(e){var t=Xi(e),n=St(e,vo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?jr(n,o,t):[]}));function Xi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Yi=Kr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var ea=ti((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return zr(e,St(t,(function(e){return mi(e,n)?+e:e})).sort(So)),r}));function ta(e){return null==e?e:xn.call(e)}var na=Kr((function(e){return so(vr(e,1,Ka,!0))})),ra=Kr((function(e){var t=Xi(e);return Ka(t)&&(t=o),so(vr(e,1,Ka,!0),ui(t,2))})),oa=Kr((function(e){var t=Xi(e);return t="function"==typeof t?t:o,so(vr(e,1,Ka,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=xt(e,(function(e){if(Ka(e))return t=mn(e.length,t),!0})),qt(t,(function(t){return St(e,Mt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:St(n,(function(e){return mt(t,o,e)}))}var ua=Kr((function(e,t){return Ka(e)?fr(e,t):[]})),sa=Kr((function(e){return ho(xt(e,Ka))})),ca=Kr((function(e){var t=Xi(e);return Ka(t)&&(t=o),ho(xt(e,Ka),ui(t,2))})),fa=Kr((function(e){var t=Xi(e);return t="function"==typeof t?t:o,ho(xt(e,Ka),o,t)})),la=Kr(ia),pa=Kr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,aa(e,n)}));function da(e){var t=Zn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var ya=ti((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&mi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:o}),new Fn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)})),va=Io((function(e,t,n){Ne.call(e,n)?++e[n]:or(e,n,1)})),ma=Mo(Vi),ga=Mo(zi);function _a(e,t){return(za(e)?_t:lr)(e,ui(t,3))}function wa(e,t){return(za(e)?wt:pr)(e,ui(t,3))}var ba=Io((function(e,t,n){Ne.call(e,n)?e[n].push(t):or(e,n,[t])})),xa=Kr((function(e,t,n){var o=-1,i="function"==typeof t,a=Ga(e)?r(e.length):[];return lr(e,(function(e){a[++o]=i?mt(t,e,n):kr(e,t,n)})),a})),Ea=Io((function(e,t,n){or(e,n,t)}));function Oa(e,t){return(za(e)?St:Mr)(e,ui(t,3))}var Sa=Io((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ta=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&gi(e,t[0],t[1])?t=[]:n>2&&gi(t[0],t[1],t[2])&&(t=[t[0]]),Fr(e,vr(t,1),[])})),Aa=It||function(){return it.Date.now()};function ja(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,$o(e,c,o,o,o,o,t)}function ka(e,t){var n;if("function"!=typeof t)throw new Ae(i);return e=yu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ia=Kr((function(e,t,n){var r=1;if(n.length){var o=tn(n,ai(Ia));r|=s}return $o(e,r,t,n,o)})),Ca=Kr((function(e,t,n){var r=3;if(n.length){var o=tn(n,ai(Ca));r|=s}return $o(t,r,e,n,o)}));function Pa(e,t,n){var r,a,u,s,c,f,l=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new Ae(i);function y(t){var n=r,i=a;return r=a=o,l=t,s=e.apply(i,n)}function v(e){return l=e,c=Ii(g,t),p?y(e):s}function m(e){var n=e-f;return f===o||n>=t||n<0||d&&e-l>=u}function g(){var e=Aa();if(m(e))return _(e);c=Ii(g,function(e){var n=t-(e-f);return d?gn(n,u-(e-l)):n}(e))}function _(e){return c=o,h&&r?y(e):(r=a=o,s)}function w(){var e=Aa(),n=m(e);if(r=arguments,a=this,f=e,n){if(c===o)return v(f);if(d)return bo(c),c=Ii(g,t),y(f)}return c===o&&(c=Ii(g,t)),s}return t=mu(t)||0,tu(n)&&(p=!!n.leading,u=(d="maxWait"in n)?mn(mu(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),w.cancel=function(){c!==o&&bo(c),l=0,r=f=a=c=o},w.flush=function(){return c===o?s:_(Aa())},w}var Na=Kr((function(e,t){return cr(e,1,t)})),Ra=Kr((function(e,t,n){return cr(e,mu(t)||0,n)}));function Da(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Da.Cache||Hn),n}function La(e){if("function"!=typeof e)throw new Ae(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Da.Cache=Hn;var Ma=_o((function(e,t){var n=(t=1==t.length&&za(t[0])?St(t[0],Wt(ui())):St(vr(t,1),Wt(ui()))).length;return Kr((function(r){for(var o=-1,i=gn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return mt(e,this,r)}))})),Ba=Kr((function(e,t){var n=tn(t,ai(Ba));return $o(e,s,o,t,n)})),Za=Kr((function(e,t){var n=tn(t,ai(Za));return $o(e,64,o,t,n)})),Ua=ti((function(e,t){return $o(e,256,o,o,o,t)}));function qa(e,t){return e===t||e!=e&&t!=t}var Fa=zo(Sr),Wa=zo((function(e,t){return e>=t})),Va=Ir(function(){return arguments}())?Ir:function(e){return nu(e)&&Ne.call(e,"callee")&&!et.call(e,"callee")},za=r.isArray,Ha=lt?Wt(lt):function(e){return nu(e)&&Or(e)==C};function Ga(e){return null!=e&&eu(e.length)&&!Ya(e)}function Ka(e){return nu(e)&&Ga(e)}var Ja=dn||ms,$a=pt?Wt(pt):function(e){return nu(e)&&Or(e)==g};function Xa(e){if(!nu(e))return!1;var t=Or(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!iu(e)}function Ya(e){if(!tu(e))return!1;var t=Or(e);return t==w||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==yu(e)}function eu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function tu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nu(e){return null!=e&&"object"==typeof e}var ru=dt?Wt(dt):function(e){return nu(e)&&di(e)==x};function ou(e){return"number"==typeof e||nu(e)&&Or(e)==E}function iu(e){if(!nu(e)||Or(e)!=O)return!1;var t=He(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==Me}var au=ht?Wt(ht):function(e){return nu(e)&&Or(e)==T},uu=yt?Wt(yt):function(e){return nu(e)&&di(e)==A};function su(e){return"string"==typeof e||!za(e)&&nu(e)&&Or(e)==j}function cu(e){return"symbol"==typeof e||nu(e)&&Or(e)==k}var fu=vt?Wt(vt):function(e){return nu(e)&&eu(e.length)&&!!Ye[Or(e)]},lu=zo(Lr),pu=zo((function(e,t){return e<=t}));function du(e){if(!e)return[];if(Ga(e))return su(e)?an(e):jo(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=di(e);return(t==x?Qt:t==A?nn:qu)(e)}function hu(e){return e?(e=mu(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function yu(e){var t=hu(e),n=t%1;return t==t?n?t-n:t:0}function vu(e){return e?ar(yu(e),0,d):0}function mu(e){if("number"==typeof e)return e;if(cu(e))return p;if(tu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ft(e);var n=he.test(e);return n||ve.test(e)?nt(e.slice(2),n?2:8):de.test(e)?p:+e}function gu(e){return ko(e,Nu(e))}function _u(e){return null==e?"":uo(e)}var wu=Co((function(e,t){if(xi(t)||Ga(t))ko(t,Pu(t),e);else for(var n in t)Ne.call(t,n)&&er(e,n,t[n])})),bu=Co((function(e,t){ko(t,Nu(t),e)})),xu=Co((function(e,t,n,r){ko(t,Nu(t),e,r)})),Eu=Co((function(e,t,n,r){ko(t,Pu(t),e,r)})),Ou=ti(ir),Su=Kr((function(e,t){e=Oe(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&gi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],u=Nu(a),s=-1,c=u.length;++s<c;){var f=u[s],l=e[f];(l===o||qa(l,Ie[f])&&!Ne.call(e,f))&&(e[f]=a[f])}return e})),Tu=Kr((function(e){return e.push(o,Yo),mt(Du,o,e)}));function Au(e,t,n){var r=null==e?o:xr(e,t);return r===o?n:r}function ju(e,t){return null!=e&&hi(e,t,Ar)}var ku=Uo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),ts(os)),Iu=Uo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),ui),Cu=Kr(kr);function Pu(e){return Ga(e)?Jn(e):Dr(e)}function Nu(e){return Ga(e)?Jn(e,!0):function(e){if(!tu(e))return function(e){var t=[];if(null!=e)for(var n in Oe(e))t.push(n);return t}(e);var t=xi(e),n=[];for(var r in e)("constructor"!=r||!t&&Ne.call(e,r))&&n.push(r);return n}(e)}var Ru=Co((function(e,t,n){Ur(e,t,n)})),Du=Co((function(e,t,n,r){Ur(e,t,n,r)})),Lu=ti((function(e,t){var n={};if(null==e)return n;var r=!1;t=St(t,(function(t){return t=go(t,e),r||(r=t.length>1),t})),ko(e,ri(e),n),r&&(n=ur(n,7,Qo));for(var o=t.length;o--;)co(n,t[o]);return n})),Mu=ti((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return ju(e,n)}))}(e,t)}));function Bu(e,t){if(null==e)return{};var n=St(ri(e),(function(e){return[e]}));return t=ui(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var Zu=Jo(Pu),Uu=Jo(Nu);function qu(e){return null==e?[]:Vt(e,Pu(e))}var Fu=Do((function(e,t,n){return t=t.toLowerCase(),e+(n?Wu(t):t)}));function Wu(e){return Xu(_u(e).toLowerCase())}function Vu(e){return(e=_u(e))&&e.replace(ge,Jt).replace(ze,"")}var zu=Do((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hu=Do((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gu=Ro("toLowerCase"),Ku=Do((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ju=Do((function(e,t,n){return e+(n?" ":"")+Xu(t)})),$u=Do((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=Ro("toUpperCase");function Yu(e,t,n){return e=_u(e),(t=n?o:t)===o?function(e){return Je.test(e)}(e)?function(e){return e.match(Ge)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var Qu=Kr((function(e,t){try{return mt(e,o,t)}catch(e){return Xa(e)?e:new be(e)}})),es=ti((function(e,t){return _t(t,(function(t){t=Bi(t),or(e,t,Ia(e[t],e))})),e}));function ts(e){return function(){return e}}var ns=Bo(),rs=Bo(!0);function os(e){return e}function is(e){return Rr("function"==typeof e?e:ur(e,1))}var as=Kr((function(e,t){return function(n){return kr(n,e,t)}})),us=Kr((function(e,t){return function(n){return kr(e,n,t)}}));function ss(e,t,n){var r=Pu(t),o=br(t,r);null!=n||tu(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=br(t,Pu(t)));var i=!(tu(n)&&"chain"in n&&!n.chain),a=Ya(e);return _t(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=jo(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Tt([this.value()],arguments))})})),e}function cs(){}var fs=Fo(St),ls=Fo(bt),ps=Fo(kt);function ds(e){return _i(e)?Mt(Bi(e)):function(e){return function(t){return xr(t,e)}}(e)}var hs=Vo(),ys=Vo(!0);function vs(){return[]}function ms(){return!1}var gs,_s=qo((function(e,t){return e+t}),0),ws=Go("ceil"),bs=qo((function(e,t){return e/t}),1),xs=Go("floor"),Es=qo((function(e,t){return e*t}),1),Os=Go("round"),Ss=qo((function(e,t){return e-t}),0);return Zn.after=function(e,t){if("function"!=typeof t)throw new Ae(i);return e=yu(e),function(){if(--e<1)return t.apply(this,arguments)}},Zn.ary=ja,Zn.assign=wu,Zn.assignIn=bu,Zn.assignInWith=xu,Zn.assignWith=Eu,Zn.at=Ou,Zn.before=ka,Zn.bind=Ia,Zn.bindAll=es,Zn.bindKey=Ca,Zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return za(e)?e:[e]},Zn.chain=da,Zn.chunk=function(e,t,n){t=(n?gi(e,t,n):t===o)?1:mn(yu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,s=r(fn(i/t));a<i;)s[u++]=to(e,a,a+=t);return s},Zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Tt(za(n)?jo(n):[n],vr(t,1))},Zn.cond=function(e){var t=null==e?0:e.length,n=ui();return e=t?St(e,(function(e){if("function"!=typeof e[1])throw new Ae(i);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var o=e[r];if(mt(o[0],this,n))return mt(o[1],this,n)}}))},Zn.conforms=function(e){return function(e){var t=Pu(e);return function(n){return sr(n,e,t)}}(ur(e,1))},Zn.constant=ts,Zn.countBy=va,Zn.create=function(e,t){var n=Un(e);return null==t?n:rr(n,t)},Zn.curry=function e(t,n,r){var i=$o(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Zn.curryRight=function e(t,n,r){var i=$o(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Zn.debounce=Pa,Zn.defaults=Su,Zn.defaultsDeep=Tu,Zn.defer=Na,Zn.delay=Ra,Zn.difference=qi,Zn.differenceBy=Fi,Zn.differenceWith=Wi,Zn.drop=function(e,t,n){var r=null==e?0:e.length;return r?to(e,(t=n||t===o?1:yu(t))<0?0:t,r):[]},Zn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?to(e,0,(t=r-(t=n||t===o?1:yu(t)))<0?0:t):[]},Zn.dropRightWhile=function(e,t){return e&&e.length?lo(e,ui(t,3),!0,!0):[]},Zn.dropWhile=function(e,t){return e&&e.length?lo(e,ui(t,3),!0):[]},Zn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&gi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=yu(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:yu(r))<0&&(r+=i),r=n>r?0:vu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Zn.filter=function(e,t){return(za(e)?xt:yr)(e,ui(t,3))},Zn.flatMap=function(e,t){return vr(Oa(e,t),1)},Zn.flatMapDeep=function(e,t){return vr(Oa(e,t),f)},Zn.flatMapDepth=function(e,t,n){return n=n===o?1:yu(n),vr(Oa(e,t),n)},Zn.flatten=Hi,Zn.flattenDeep=function(e){return null!=e&&e.length?vr(e,f):[]},Zn.flattenDepth=function(e,t){return null!=e&&e.length?vr(e,t=t===o?1:yu(t)):[]},Zn.flip=function(e){return $o(e,512)},Zn.flow=ns,Zn.flowRight=rs,Zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Zn.functions=function(e){return null==e?[]:br(e,Pu(e))},Zn.functionsIn=function(e){return null==e?[]:br(e,Nu(e))},Zn.groupBy=ba,Zn.initial=function(e){return null!=e&&e.length?to(e,0,-1):[]},Zn.intersection=Ki,Zn.intersectionBy=Ji,Zn.intersectionWith=$i,Zn.invert=ku,Zn.invertBy=Iu,Zn.invokeMap=xa,Zn.iteratee=is,Zn.keyBy=Ea,Zn.keys=Pu,Zn.keysIn=Nu,Zn.map=Oa,Zn.mapKeys=function(e,t){var n={};return t=ui(t,3),_r(e,(function(e,r,o){or(n,t(e,r,o),e)})),n},Zn.mapValues=function(e,t){var n={};return t=ui(t,3),_r(e,(function(e,r,o){or(n,r,t(e,r,o))})),n},Zn.matches=function(e){return Br(ur(e,1))},Zn.matchesProperty=function(e,t){return Zr(e,ur(t,1))},Zn.memoize=Da,Zn.merge=Ru,Zn.mergeWith=Du,Zn.method=as,Zn.methodOf=us,Zn.mixin=ss,Zn.negate=La,Zn.nthArg=function(e){return e=yu(e),Kr((function(t){return qr(t,e)}))},Zn.omit=Lu,Zn.omitBy=function(e,t){return Bu(e,La(ui(t)))},Zn.once=function(e){return ka(2,e)},Zn.orderBy=function(e,t,n,r){return null==e?[]:(za(t)||(t=null==t?[]:[t]),za(n=r?o:n)||(n=null==n?[]:[n]),Fr(e,t,n))},Zn.over=fs,Zn.overArgs=Ma,Zn.overEvery=ls,Zn.overSome=ps,Zn.partial=Ba,Zn.partialRight=Za,Zn.partition=Sa,Zn.pick=Mu,Zn.pickBy=Bu,Zn.property=ds,Zn.propertyOf=function(e){return function(t){return null==e?o:xr(e,t)}},Zn.pull=Yi,Zn.pullAll=Qi,Zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,ui(n,2)):e},Zn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,o,n):e},Zn.pullAt=ea,Zn.range=hs,Zn.rangeRight=ys,Zn.rearg=Ua,Zn.reject=function(e,t){return(za(e)?xt:yr)(e,La(ui(t,3)))},Zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ui(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return zr(e,o),n},Zn.rest=function(e,t){if("function"!=typeof e)throw new Ae(i);return Kr(e,t=t===o?t:yu(t))},Zn.reverse=ta,Zn.sampleSize=function(e,t,n){return t=(n?gi(e,t,n):t===o)?1:yu(t),(za(e)?Xn:$r)(e,t)},Zn.set=function(e,t,n){return null==e?e:Xr(e,t,n)},Zn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Xr(e,t,n,r)},Zn.shuffle=function(e){return(za(e)?Yn:eo)(e)},Zn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&gi(e,t,n)?(t=0,n=r):(t=null==t?0:yu(t),n=n===o?r:yu(n)),to(e,t,n)):[]},Zn.sortBy=Ta,Zn.sortedUniq=function(e){return e&&e.length?io(e):[]},Zn.sortedUniqBy=function(e,t){return e&&e.length?io(e,ui(t,2)):[]},Zn.split=function(e,t,n){return n&&"number"!=typeof n&&gi(e,t,n)&&(t=n=o),(n=n===o?d:n>>>0)?(e=_u(e))&&("string"==typeof t||null!=t&&!au(t))&&!(t=uo(t))&&Yt(e)?wo(an(e),0,n):e.split(t,n):[]},Zn.spread=function(e,t){if("function"!=typeof e)throw new Ae(i);return t=null==t?0:mn(yu(t),0),Kr((function(n){var r=n[t],o=wo(n,0,t);return r&&Tt(o,r),mt(e,this,o)}))},Zn.tail=function(e){var t=null==e?0:e.length;return t?to(e,1,t):[]},Zn.take=function(e,t,n){return e&&e.length?to(e,0,(t=n||t===o?1:yu(t))<0?0:t):[]},Zn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?to(e,(t=r-(t=n||t===o?1:yu(t)))<0?0:t,r):[]},Zn.takeRightWhile=function(e,t){return e&&e.length?lo(e,ui(t,3),!1,!0):[]},Zn.takeWhile=function(e,t){return e&&e.length?lo(e,ui(t,3)):[]},Zn.tap=function(e,t){return t(e),e},Zn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ae(i);return tu(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Pa(e,t,{leading:r,maxWait:t,trailing:o})},Zn.thru=ha,Zn.toArray=du,Zn.toPairs=Zu,Zn.toPairsIn=Uu,Zn.toPath=function(e){return za(e)?St(e,Bi):cu(e)?[e]:jo(Mi(_u(e)))},Zn.toPlainObject=gu,Zn.transform=function(e,t,n){var r=za(e),o=r||Ja(e)||fu(e);if(t=ui(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:tu(e)&&Ya(i)?Un(He(e)):{}}return(o?_t:_r)(e,(function(e,r,o){return t(n,e,r,o)})),n},Zn.unary=function(e){return ja(e,1)},Zn.union=na,Zn.unionBy=ra,Zn.unionWith=oa,Zn.uniq=function(e){return e&&e.length?so(e):[]},Zn.uniqBy=function(e,t){return e&&e.length?so(e,ui(t,2)):[]},Zn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?so(e,o,t):[]},Zn.unset=function(e,t){return null==e||co(e,t)},Zn.unzip=ia,Zn.unzipWith=aa,Zn.update=function(e,t,n){return null==e?e:fo(e,t,mo(n))},Zn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:fo(e,t,mo(n),r)},Zn.values=qu,Zn.valuesIn=function(e){return null==e?[]:Vt(e,Nu(e))},Zn.without=ua,Zn.words=Yu,Zn.wrap=function(e,t){return Ba(mo(t),e)},Zn.xor=sa,Zn.xorBy=ca,Zn.xorWith=fa,Zn.zip=la,Zn.zipObject=function(e,t){return yo(e||[],t||[],er)},Zn.zipObjectDeep=function(e,t){return yo(e||[],t||[],Xr)},Zn.zipWith=pa,Zn.entries=Zu,Zn.entriesIn=Uu,Zn.extend=bu,Zn.extendWith=xu,ss(Zn,Zn),Zn.add=_s,Zn.attempt=Qu,Zn.camelCase=Fu,Zn.capitalize=Wu,Zn.ceil=ws,Zn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=mu(n))==n?n:0),t!==o&&(t=(t=mu(t))==t?t:0),ar(mu(e),t,n)},Zn.clone=function(e){return ur(e,4)},Zn.cloneDeep=function(e){return ur(e,5)},Zn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:o)},Zn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:o)},Zn.conformsTo=function(e,t){return null==t||sr(e,t,Pu(t))},Zn.deburr=Vu,Zn.defaultTo=function(e,t){return null==e||e!=e?t:e},Zn.divide=bs,Zn.endsWith=function(e,t,n){e=_u(e),t=uo(t);var r=e.length,i=n=n===o?r:ar(yu(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Zn.eq=qa,Zn.escape=function(e){return(e=_u(e))&&K.test(e)?e.replace(H,$t):e},Zn.escapeRegExp=function(e){return(e=_u(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Zn.every=function(e,t,n){var r=za(e)?bt:dr;return n&&gi(e,t,n)&&(t=o),r(e,ui(t,3))},Zn.find=ma,Zn.findIndex=Vi,Zn.findKey=function(e,t){return Ct(e,ui(t,3),_r)},Zn.findLast=ga,Zn.findLastIndex=zi,Zn.findLastKey=function(e,t){return Ct(e,ui(t,3),wr)},Zn.floor=xs,Zn.forEach=_a,Zn.forEachRight=wa,Zn.forIn=function(e,t){return null==e?e:mr(e,ui(t,3),Nu)},Zn.forInRight=function(e,t){return null==e?e:gr(e,ui(t,3),Nu)},Zn.forOwn=function(e,t){return e&&_r(e,ui(t,3))},Zn.forOwnRight=function(e,t){return e&&wr(e,ui(t,3))},Zn.get=Au,Zn.gt=Fa,Zn.gte=Wa,Zn.has=function(e,t){return null!=e&&hi(e,t,Tr)},Zn.hasIn=ju,Zn.head=Gi,Zn.identity=os,Zn.includes=function(e,t,n,r){e=Ga(e)?e:qu(e),n=n&&!r?yu(n):0;var o=e.length;return n<0&&(n=mn(o+n,0)),su(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Nt(e,t,n)>-1},Zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:yu(n);return o<0&&(o=mn(r+o,0)),Nt(e,t,o)},Zn.inRange=function(e,t,n){return t=hu(t),n===o?(n=t,t=0):n=hu(n),function(e,t,n){return e>=gn(t,n)&&e<mn(t,n)}(e=mu(e),t,n)},Zn.invoke=Cu,Zn.isArguments=Va,Zn.isArray=za,Zn.isArrayBuffer=Ha,Zn.isArrayLike=Ga,Zn.isArrayLikeObject=Ka,Zn.isBoolean=function(e){return!0===e||!1===e||nu(e)&&Or(e)==m},Zn.isBuffer=Ja,Zn.isDate=$a,Zn.isElement=function(e){return nu(e)&&1===e.nodeType&&!iu(e)},Zn.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(za(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||fu(e)||Va(e)))return!e.length;var t=di(e);if(t==x||t==A)return!e.size;if(xi(e))return!Dr(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Zn.isEqual=function(e,t){return Cr(e,t)},Zn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Cr(e,t,o,n):!!r},Zn.isError=Xa,Zn.isFinite=function(e){return"number"==typeof e&&hn(e)},Zn.isFunction=Ya,Zn.isInteger=Qa,Zn.isLength=eu,Zn.isMap=ru,Zn.isMatch=function(e,t){return e===t||Pr(e,t,ci(t))},Zn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Pr(e,t,ci(t),n)},Zn.isNaN=function(e){return ou(e)&&e!=+e},Zn.isNative=function(e){if(bi(e))throw new be("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Zn.isNil=function(e){return null==e},Zn.isNull=function(e){return null===e},Zn.isNumber=ou,Zn.isObject=tu,Zn.isObjectLike=nu,Zn.isPlainObject=iu,Zn.isRegExp=au,Zn.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=l},Zn.isSet=uu,Zn.isString=su,Zn.isSymbol=cu,Zn.isTypedArray=fu,Zn.isUndefined=function(e){return e===o},Zn.isWeakMap=function(e){return nu(e)&&di(e)==I},Zn.isWeakSet=function(e){return nu(e)&&"[object WeakSet]"==Or(e)},Zn.join=function(e,t){return null==e?"":yn.call(e,t)},Zn.kebabCase=zu,Zn.last=Xi,Zn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=yu(n))<0?mn(r+i,0):gn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Pt(e,Dt,i,!0)},Zn.lowerCase=Hu,Zn.lowerFirst=Gu,Zn.lt=lu,Zn.lte=pu,Zn.max=function(e){return e&&e.length?hr(e,os,Sr):o},Zn.maxBy=function(e,t){return e&&e.length?hr(e,ui(t,2),Sr):o},Zn.mean=function(e){return Lt(e,os)},Zn.meanBy=function(e,t){return Lt(e,ui(t,2))},Zn.min=function(e){return e&&e.length?hr(e,os,Lr):o},Zn.minBy=function(e,t){return e&&e.length?hr(e,ui(t,2),Lr):o},Zn.stubArray=vs,Zn.stubFalse=ms,Zn.stubObject=function(){return{}},Zn.stubString=function(){return""},Zn.stubTrue=function(){return!0},Zn.multiply=Es,Zn.nth=function(e,t){return e&&e.length?qr(e,yu(t)):o},Zn.noConflict=function(){return it._===this&&(it._=Be),this},Zn.noop=cs,Zn.now=Aa,Zn.pad=function(e,t,n){e=_u(e);var r=(t=yu(t))?on(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Wo(ln(o),n)+e+Wo(fn(o),n)},Zn.padEnd=function(e,t,n){e=_u(e);var r=(t=yu(t))?on(e):0;return t&&r<t?e+Wo(t-r,n):e},Zn.padStart=function(e,t,n){e=_u(e);var r=(t=yu(t))?on(e):0;return t&&r<t?Wo(t-r,n)+e:e},Zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(_u(e).replace(re,""),t||0)},Zn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&gi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hu(e),t===o?(t=e,e=0):t=hu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=bn();return gn(e+i*(t-e+tt("1e-"+((i+"").length-1))),t)}return Hr(e,t)},Zn.reduce=function(e,t,n){var r=za(e)?At:Zt,o=arguments.length<3;return r(e,ui(t,4),n,o,lr)},Zn.reduceRight=function(e,t,n){var r=za(e)?jt:Zt,o=arguments.length<3;return r(e,ui(t,4),n,o,pr)},Zn.repeat=function(e,t,n){return t=(n?gi(e,t,n):t===o)?1:yu(t),Gr(_u(e),t)},Zn.replace=function(){var e=arguments,t=_u(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Zn.result=function(e,t,n){var r=-1,i=(t=go(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Bi(t[r])];a===o&&(r=i,a=n),e=Ya(a)?a.call(e):a}return e},Zn.round=Os,Zn.runInContext=e,Zn.sample=function(e){return(za(e)?$n:Jr)(e)},Zn.size=function(e){if(null==e)return 0;if(Ga(e))return su(e)?on(e):e.length;var t=di(e);return t==x||t==A?e.size:Dr(e).length},Zn.snakeCase=Ku,Zn.some=function(e,t,n){var r=za(e)?kt:no;return n&&gi(e,t,n)&&(t=o),r(e,ui(t,3))},Zn.sortedIndex=function(e,t){return ro(e,t)},Zn.sortedIndexBy=function(e,t,n){return oo(e,t,ui(n,2))},Zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ro(e,t);if(r<n&&qa(e[r],t))return r}return-1},Zn.sortedLastIndex=function(e,t){return ro(e,t,!0)},Zn.sortedLastIndexBy=function(e,t,n){return oo(e,t,ui(n,2),!0)},Zn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ro(e,t,!0)-1;if(qa(e[n],t))return n}return-1},Zn.startCase=Ju,Zn.startsWith=function(e,t,n){return e=_u(e),n=null==n?0:ar(yu(n),0,e.length),t=uo(t),e.slice(n,n+t.length)==t},Zn.subtract=Ss,Zn.sum=function(e){return e&&e.length?Ut(e,os):0},Zn.sumBy=function(e,t){return e&&e.length?Ut(e,ui(t,2)):0},Zn.template=function(e,t,n){var r=Zn.templateSettings;n&&gi(e,t,n)&&(t=o),e=_u(e),t=xu({},t,r,Xo);var i,a,u=xu({},t.imports,r.imports,Xo),s=Pu(u),c=Vt(u,s),f=0,l=t.interpolate||_e,p="__p += '",d=Se((t.escape||_e).source+"|"+l.source+"|"+(l===X?le:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),h="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xe+"]")+"\n";e.replace(d,(function(t,n,r,o,u,s){return r||(r=o),p+=e.slice(f,s).replace(we,Xt),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+t.length,t})),p+="';\n";var y=Ne.call(t,"variable")&&t.variable;if(y){if(ce.test(y))throw new be("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(F,""):p).replace(W,"$1").replace(V,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Qu((function(){return xe(s,h+"return "+p).apply(o,c)}));if(v.source=p,Xa(v))throw v;return v},Zn.times=function(e,t){if((e=yu(e))<1||e>l)return[];var n=d,r=gn(e,d);t=ui(t),e-=d;for(var o=qt(r,t);++n<e;)t(n);return o},Zn.toFinite=hu,Zn.toInteger=yu,Zn.toLength=vu,Zn.toLower=function(e){return _u(e).toLowerCase()},Zn.toNumber=mu,Zn.toSafeInteger=function(e){return e?ar(yu(e),-9007199254740991,l):0===e?e:0},Zn.toString=_u,Zn.toUpper=function(e){return _u(e).toUpperCase()},Zn.trim=function(e,t,n){if((e=_u(e))&&(n||t===o))return Ft(e);if(!e||!(t=uo(t)))return e;var r=an(e),i=an(t);return wo(r,Ht(r,i),Gt(r,i)+1).join("")},Zn.trimEnd=function(e,t,n){if((e=_u(e))&&(n||t===o))return e.slice(0,un(e)+1);if(!e||!(t=uo(t)))return e;var r=an(e);return wo(r,0,Gt(r,an(t))+1).join("")},Zn.trimStart=function(e,t,n){if((e=_u(e))&&(n||t===o))return e.replace(re,"");if(!e||!(t=uo(t)))return e;var r=an(e);return wo(r,Ht(r,an(t))).join("")},Zn.truncate=function(e,t){var n=30,r="...";if(tu(t)){var i="separator"in t?t.separator:i;n="length"in t?yu(t.length):n,r="omission"in t?uo(t.omission):r}var a=(e=_u(e)).length;if(Yt(e)){var u=an(e);a=u.length}if(n>=a)return e;var s=n-on(r);if(s<1)return r;var c=u?wo(u,0,s).join(""):e.slice(0,s);if(i===o)return c+r;if(u&&(s+=c.length-s),au(i)){if(e.slice(s).search(i)){var f,l=c;for(i.global||(i=Se(i.source,_u(pe.exec(i))+"g")),i.lastIndex=0;f=i.exec(l);)var p=f.index;c=c.slice(0,p===o?s:p)}}else if(e.indexOf(uo(i),s)!=s){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},Zn.unescape=function(e){return(e=_u(e))&&G.test(e)?e.replace(z,sn):e},Zn.uniqueId=function(e){var t=++Re;return _u(e)+t},Zn.upperCase=$u,Zn.upperFirst=Xu,Zn.each=_a,Zn.eachRight=wa,Zn.first=Gi,ss(Zn,(gs={},_r(Zn,(function(e,t){Ne.call(Zn.prototype,t)||(gs[t]=e)})),gs),{chain:!1}),Zn.VERSION="4.17.21",_t(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Zn[e].placeholder=Zn})),_t(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===o?1:mn(yu(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=gn(n,r.__takeCount__):r.__views__.push({size:gn(n,d),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),_t(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ui(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),_t(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),_t(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(os)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return kr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(La(ui(e)))},Wn.prototype.slice=function(e,t){e=yu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=yu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(d)},_r(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Zn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Zn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Wn,c=u[0],f=s||za(t),l=function(e){var t=i.apply(Zn,Tt([e],u));return r&&p?t[0]:t};f&&n&&"function"==typeof c&&1!=c.length&&(s=f=!1);var p=this.__chain__,d=!!this.__actions__.length,h=a&&!p,y=s&&!d;if(!a&&f){t=y?t:new Wn(this);var v=e.apply(t,u);return v.__actions__.push({func:ha,args:[l],thisArg:o}),new Fn(v,p)}return h&&y?e.apply(this,u):(v=this.thru(l),h?r?v.value()[0]:v.value():v)})})),_t(["pop","push","shift","sort","splice","unshift"],(function(e){var t=je[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(za(o)?o:[],e)}return this[n]((function(n){return t.apply(za(n)?n:[],e)}))}})),_r(Wn.prototype,(function(e,t){var n=Zn[t];if(n){var r=n.name+"";Ne.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}})),In[Zo(o,2).name]=[{name:"wrapper",func:o}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=jo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=jo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=jo(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=za(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=gn(t,e+a);break;case"takeRight":e=mn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,c=r?u:a-1,f=this.__iteratees__,l=f.length,p=0,d=gn(s,this.__takeCount__);if(!n||!r&&o==s&&d==s)return po(e,this.__actions__);var h=[];e:for(;s--&&p<d;){for(var y=-1,v=e[c+=t];++y<l;){var m=f[y],g=m.iteratee,_=m.type,w=g(v);if(2==_)v=w;else if(!w){if(1==_)continue e;break e}}h[p++]=v}return h},Zn.prototype.at=ya,Zn.prototype.chain=function(){return da(this)},Zn.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},Zn.prototype.next=function(){this.__values__===o&&(this.__values__=du(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Zn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Ui(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:o}),new Fn(t,this.__chain__)}return this.thru(ta)},Zn.prototype.toJSON=Zn.prototype.valueOf=Zn.prototype.value=function(){return po(this.__wrapped__,this.__actions__)},Zn.prototype.first=Zn.prototype.head,at&&(Zn.prototype[at]=function(){return this}),Zn}();it._=cn,(r=function(){return cn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},394:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,u,s=o(e),c=1;c<arguments.length;c++){for(var f in a=Object(arguments[c]))n.call(a,f)&&(s[f]=a[f]);if(t){u=t(a);for(var l=0;l<u.length;l++)r.call(a,u[l])&&(s[u[l]]=a[u[l]])}}return s}},927:(e,t,n)=>{function r(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},336:()=>{},858:()=>{},764:()=>{},886:()=>{},305:()=>{},615:()=>{},569:()=>{},844:e=>{"use strict";e.exports=JSON.parse('{"name":"faunadb","version":"4.4.1","apiVersion":"4","description":"FaunaDB Javascript driver for Node.JS and Browsers","homepage":"https://fauna.com","repository":"fauna/faunadb-js","license":"MPL-2.0","keywords":["database","fauna","official","driver"],"bugs":{"url":"https://github.com/fauna/faunadb-js/issues"},"files":["index.d.ts","src/","dist/","tools/printReleaseNotes.js"],"main":"index.js","scripts":{"doc":"jsdoc -c ./jsdoc.json","browserify":"browserify index.js --standalone faunadb -o dist/faunadb.js","browserify-min":"browserify index.js --standalone faunadb | terser -c -m --keep-fnames --keep-classnames -o dist/faunadb-min.js","prettify":"prettier --write \\"{src,test}/**/*.{js,ts}\\"","test":"jest --env=node --verbose=false --forceExit ./test","semantic-release":"semantic-release","wp":"webpack","postinstall":"node ./tools/printReleaseNotes","postupdate":"node ./tools/printReleaseNotes","load-test":"node ./tools/loadTest"},"types":"index.d.ts","dependencies":{"abort-controller":"^3.0.0","base64-js":"^1.2.0","boxen":"^5.0.1","btoa-lite":"^1.0.0","chalk":"^4.1.1","cross-fetch":"^3.0.6","dotenv":"^8.2.0","fn-annotate":"^1.1.3","object-assign":"^4.1.0","util-deprecate":"^1.0.2"},"devDependencies":{"browserify":"^16.2.2","eslint":"^5.3.0","eslint-config-prettier":"^6.5.0","eslint-plugin-prettier":"^3.1.1","husky":">=1","ink-docstrap":"^1.2.1","jest":"^24.9.0","jsdoc":"^3.6.3","lint-staged":">=8","prettier":"1.18.2","semantic-release":"^17.1.2","terser":"^4.3.9","webpack":"^5.23.0","webpack-cli":"^4.5.0","yargs":"^16.2.0"},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"*.{js,css,json,md}":["prettier --write","git add"],"*.js":["eslint --fix","git add"]},"release":{"branches":["main"]},"browser":{"http2":false,"http":false,"https":false,"os":false,"util":false,"boxen":false,"chalk":false}}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";function e(e){let t,n,r,o={};for([t,n]of e)o[t]=void 0!==(r=o[t])?[].concat(r,n):n;return o}async function t(t,n){if(t.body&&n)return~n.indexOf("application/json")?t.json():~n.indexOf("multipart/form-data")||~n.indexOf("application/x-www-form-urlencoded")?t.formData().then(e):~n.indexOf("text/")?t.text():t.arrayBuffer()}function r(e){let n=this,{request:r}=e,o=new URL(r.url);return n.url=r.url,n.method=r.method,n.headers=r.headers,n.extend=e.waitUntil.bind(e),n.cf=r.cf,n.params={},n.path=o.pathname,n.hostname=o.hostname,n.origin=o.origin,n.query=o.searchParams,n.search=o.search,n.body=t.bind(0,r,n.headers.get("content-type")),n.body.blob=r.blob.bind(r),n.body.text=r.text.bind(r),n.body.arrayBuffer=r.arrayBuffer.bind(r),n.body.formData=r.formData.bind(r),n.body.json=r.json.bind(r),n}var o=new TextEncoder;function i(e){return e?o.encode(e).byteLength:0}var a="content-type",u="content-length";function s(e){var t=this,n=t.headers=new Headers({"Cache-Control":"private, no-cache"});return t.body="",t.finished=!1,t.status=t.statusCode=200,t.getHeaders=()=>Object.fromEntries(n),t.getHeaderNames=()=>[...n.keys()],t.hasHeader=n.has.bind(n),t.getHeader=n.get.bind(n),t.removeHeader=n.delete.bind(n),t.setHeader=n.set.bind(n),Object.defineProperty(t,"status",{set:e=>{t.statusCode=e},get:()=>t.statusCode}),t.end=e=>{t.finished||(t.finished=!0,t.body=e)},t.writeHead=(e,r)=>{t.statusCode=e;for(let e in r)n.set(e,r[e])},t.send=(n,r,o)=>{let s=typeof r,c={};for(let e in o)c[e.toLowerCase()]=o[e];let f=c[u]||t.getHeader(u),l=c[a]||t.getHeader(a);null==r?r="":"object"===s?(r=JSON.stringify(r),l=l||"application/json;charset=utf-8"):"string"!==s&&(r=String(r)),c[a]=l||"text/plain",c[u]=f||String(r.byteLength||i(r)),204===n||205===n||304===n?(t.removeHeader(u),t.removeHeader(a),delete c[u],delete c[a],r=null):"HEAD"===e&&(r=null),t.writeHead(n,c),t.end(r)},t}var c={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",409:"Conflict",410:"Gone",411:"Length Required",413:"Payload Too Large",422:"Unprocessable Entity",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"};async function f(e,t,n,r,...o){let i=await e(n,r,...o);return i instanceof Response?i:t||r.finished?new Response(r.body,r):void 0}function l(){let e,t={};return e={add(e,n,r){let o=t[e];if(void 0===o&&(o=t[e]={__d:new Map,__s:{}}),n instanceof RegExp)o.__d.set(n,{keys:[],handler:r});else if(/[:|*]/.test(n)){let{keys:e,pattern:t}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,i,a=[],u="",s=e.split("/");for(s[0]||s.shift();o=s.shift();)"*"===(n=o[0])?(a.push("wild"),u+="/(.*)"):":"===n?(r=o.indexOf("?",1),i=o.indexOf(".",1),a.push(o.substring(1,~r?r:~i?i:o.length)),u+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(u+=(~r?"?":"")+"\\"+o.substring(i))):u+="/"+o;return{keys:a,pattern:new RegExp("^"+u+"/?$","i")}}(n);o.__d.set(t,{keys:e,handler:r})}else o.__s[n]={keys:[],handler:r}},onerror(e,t,n,r){let o=c[n=n||500],i=r&&r.message||o||String(n);return new Response(i,{status:n,statusText:o})},async run(n){let o,i=new r(n),a=new s(i.method);return e.prepare&&(o=await f(e.prepare,!1,i,a),o)?o:(o=function(e,t,n){let r,o,i,a,u,s={};if(o=e[t]){if(r=o.__s[n])return{params:s,handler:r.handler};for([i,a]of o.__d)if(u=i.exec(n),null!==u){if(void 0!==u.groups)for(r in u.groups)s[r]=u.groups[r];else if(a.keys.length>0)for(r=0;r<a.keys.length;)s[a.keys[r++]]=u[r];return{params:s,handler:a.handler}}}}(t,i.method,i.path),o?(i.params=o.params,f(o.handler,!0,i,a).catch((t=>f(e.onerror,!0,i,a,500,t)))):f(e.onerror,!0,i,a,404))}}}var p=n(97),d=n.n(p),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var v,m,g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function _(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function w(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:u(0),throw:u(1),return:u(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,(a=o?[2&a[0],o.value]:a)[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e}(m=v=v||{}).assertNever=function(e){throw new Error},m.arrayToEnum=function(e){var t,n,r={};try{for(var o=b(e),i=o.next();!i.done;i=o.next()){var a=i.value;r[a]=a}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},m.getValidEnumValues=function(e){var t,n,r=m.objectKeys(e).filter((function(t){return"number"!=typeof e[e[t]]})),o={};try{for(var i=b(r),a=i.next();!a.done;a=i.next()){var u=a.value;o[u]=e[u]}}catch(n){t={error:n}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return m.objectValues(o)},m.objectValues=function(e){return m.objectKeys(e).map((function(t){return e[t]}))},m.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},m.find=function(e,t){var n,r;try{for(var o=b(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t(a))return a}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},m.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};var O,S,T=v.arrayToEnum(["invalid_type","custom","invalid_union","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),A=function(e){function t(t){var n=this.constructor,r=e.call(this)||this;return r.issues=[],r.format=function(){var e={_errors:[]},t=function(n){var r,o;try{for(var i=b(n.issues),a=i.next();!a.done;a=i.next()){var u=a.value;if("invalid_union"===u.code)u.unionErrors.map(t);else if("invalid_return_type"===u.code)t(u.returnTypeError);else if("invalid_arguments"===u.code)t(u.argumentsError);else if(0===u.path.length)e._errors.push(u.message);else for(var s=e,c=0;c<u.path.length;){var f,l=u.path[c];c===u.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(u.message)):"string"==typeof l?s[l]=s[l]||{_errors:[]}:"number"==typeof l&&((f=[])._errors=[],s[l]=s[l]||f),s=s[l],c++}}}catch(n){r={error:n}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}};return t(r),e},r.addIssue=function(e){r.issues=E(r.issues,[e])},r.addIssues=function(e){r.issues=E(r.issues,e=void 0===e?[]:e)},r.flatten=function(e){var t,n;void 0===e&&(e=function(e){return e.message});var o={},i=[];try{for(var a=b(r.issues),u=a.next();!u.done;u=a.next()){var s=u.value;0<s.path.length?(o[s.path[0]]=o[s.path[0]]||[],o[s.path[0]].push(e(s))):i.push(e(s))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return{formErrors:i,fieldErrors:o}},n=n.prototype,Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n,r.name="ZodError",r.issues=t,r}return y(t,e),Object.defineProperty(t.prototype,"errors",{get:function(){return this.issues},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.message},Object.defineProperty(t.prototype,"message",{get:function(){return JSON.stringify(this.issues,null,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.issues.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formErrors",{get:function(){return this.flatten()},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e)},t}(Error),j=function(e,t){var n;switch(e.code){case T.invalid_type:n="undefined"===e.received?"Required":"Expected "+e.expected+", received "+e.received;break;case T.unrecognized_keys:n="Unrecognized key(s) in object: "+e.keys.map((function(e){return"'"+e+"'"})).join(", ");break;case T.invalid_union:n="Invalid input";break;case T.invalid_enum_value:n="Invalid enum value. Expected "+e.options.map((function(e){return"string"==typeof e?"'"+e+"'":e})).join(" | ")+", received "+("string"==typeof t.data?"'"+t.data+"'":t.data);break;case T.invalid_arguments:n="Invalid function arguments";break;case T.invalid_return_type:n="Invalid function return type";break;case T.invalid_date:n="Invalid date";break;case T.invalid_string:n="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case T.too_small:n="array"===e.type?"Should have "+(e.inclusive?"at least":"more than")+" "+e.minimum+" items":"string"===e.type?"Should be "+(e.inclusive?"at least":"over")+" "+e.minimum+" characters":"number"===e.type?"Value should be greater than "+(e.inclusive?"or equal to ":"")+e.minimum:"Invalid input";break;case T.too_big:n="array"===e.type?"Should have "+(e.inclusive?"at most":"less than")+" "+e.maximum+" items":"string"===e.type?"Should be "+(e.inclusive?"at most":"under")+" "+e.maximum+" characters long":"number"===e.type?"Value should be less than "+(e.inclusive?"or equal to ":"")+e.maximum:"Invalid input";break;case T.custom:n="Invalid input";break;case T.invalid_intersection_types:n="Intersection results could not be merged";break;case T.not_multiple_of:n="Should be multiple of "+e.multipleOf;break;default:n=t.defaultError,v.assertNever(e)}return{message:n}},k=j,I=v.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),C=function(e){switch(typeof e){case"undefined":return I.undefined;case"string":return I.string;case"number":return isNaN(e)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"object":return Array.isArray(e)?I.array:null===e?I.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?I.promise:e instanceof Map?I.map:e instanceof Set?I.set:e instanceof Date?I.date:I.object;default:return I.unknown}},P=function(e){var t,n,r=e.data,o=e.path,i=e.errorMaps,a=(o=E(o,(e=e.issueData).path||[]),g(g({},e),{path:o})),u="";i=i.filter((function(e){return!!e})).slice().reverse();try{for(var s=b(i),c=s.next();!c.done;c=s.next())u=(0,c.value)(a,{data:r,defaultError:u}).message}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return g(g({},e),{path:o,message:e.message||u})},N=function(e){if(null===e)return[];for(var t=new Array(e.count);null!==e;)t[e.count-1]=e.component,e=e.parent;return t},R=function(e){for(var t=null,n=0;n<e.length;n++)t={parent:t,component:e[n],count:n+1};return t},D=function(){function e(e){this.def=e}return Object.defineProperty(e.prototype,"path",{get:function(){return this.def.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"issues",{get:function(){return this.def.issues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorMap",{get:function(){return this.def.errorMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"async",{get:function(){return this.def.async},enumerable:!1,configurable:!0}),e.prototype.stepInto=function(t){return new e(g(g({},this.def),{path:null===this.path?{parent:null,count:1,component:t}:{parent:this.path,count:this.path.count+1,component:t}}))},e.prototype.addIssue=function(e,t,n){void 0===n&&(n={}),n=P({data:e,issueData:t,path:N(this.path),errorMaps:[this.def.errorMap,n.schemaErrorMap,k,j]}),this.issues.push(n)},e}(),L=Object.freeze({valid:!1}),M=function(e){return{valid:!0,value:e}},B=function(e){return!1===e.valid},Z=function(e){return!0===e.valid},U=function(e){return e instanceof Promise};(S=O=O||{}).errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},S.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message};var q=function(e){return new D({path:R(e.path||[]),issues:[],errorMap:e.errorMap,async:null!==(e=e.async)&&void 0!==e&&e})},F=function(e,t){return Z(t)&&!e.issues.length?{success:!0,data:t.value}:{success:!1,error:new A(e.issues)}};function W(e){if(!e)return{};if(e.errorMap&&(e.invalid_type_error||e.required_error))throw new Error('Can\'t use "invalid" or "required" in conjunction with custom error map.');return e.errorMap?{errorMap:e.errorMap}:{errorMap:function(t,n){return"invalid_type"!==t.code?{message:n.defaultError}:void 0===n.data&&e.required_error?{message:e.required_error}:e.invalid_type_error?{message:e.invalid_type_error}:{message:n.defaultError}}}}var V,z=function(){function e(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.transform=this.transform.bind(this),this.default=this.default.bind(this)}return e.prototype._addIssue=function(e,t,n){e.addIssue(n.data,t,{schemaErrorMap:this._def.errorMap})},e.prototype._parseSync=function(e,t,n){if(n=this._parse(e,t,n),U(n))throw new Error("Synchronous parse encountered promise.");return n},e.prototype._parseAsync=function(e,t,n){return n=this._parse(e,t,n),Promise.resolve(n)},e.prototype.parse=function(e,t){if((t=this.safeParse(e,t)).success)return t.data;throw t.error},e.prototype.safeParse=function(e,t){return t=q(g(g({},t),{async:!1})),e=this._parseSync(t,e,C(e)),F(t,e)},e.prototype.parseAsync=function(e,t){return _(this,void 0,void 0,(function(){var n;return w(this,(function(r){switch(r.label){case 0:return[4,this.safeParseAsync(e,t)];case 1:if((n=r.sent()).success)return[2,n.data];throw n.error}}))}))},e.prototype.safeParseAsync=function(e,t){return _(this,void 0,void 0,(function(){var n,r;return w(this,(function(o){switch(o.label){case 0:return n=q(g(g({},t),{async:!0})),r=this._parse(n,e,C(e)),[4,U(r)?r:Promise.resolve(r)];case 1:return r=o.sent(),[2,F(n,r)]}}))}))},e.prototype.refine=function(e,t){return this._refinement((function(n,r){function o(){return r.addIssue(g({code:T.custom},"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(n):t))}var i=e(n);return i instanceof Promise?i.then((function(e){return!!e||(o(),!1)})):!!i||(o(),!1)}))},e.prototype.refinement=function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))},e.prototype._refinement=function(e){return new Se({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:e}})},e.prototype.optional=function(){return Te.create(this)},e.prototype.nullable=function(){return Ae.create(this)},e.prototype.nullish=function(){return this.optional().nullable()},e.prototype.array=function(){return ae.create(this)},e.prototype.promise=function(){return Oe.create(this)},e.prototype.or=function(e){return fe.create([this,e])},e.prototype.and=function(e){return pe.create(this,e)},e.prototype.transform=function(e){return new Se({schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:e}})},e.prototype.default=function(e){return new je({innerType:this,defaultValue:"function"==typeof e?e:function(){return e},typeName:be.ZodDefault})},e.prototype.isOptional=function(){return this.safeParse(void 0).success},e.prototype.isNullable=function(){return this.safeParse(null).success},e}(),H=/^c[^\s-]{8,}$/i,G=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,K=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._regex=function(e,n,r){return t.refinement((function(t){return e.test(t)}),g({validation:n,code:T.invalid_string},O.errToObj(r)))},t.nonempty=function(e){return t.min(1,O.errToObj(e))},t}return y(t,e),t.prototype._parse=function(e,t,n){var r,o;if(n!==I.string)return this._addIssue(e,{code:T.invalid_type,expected:I.string,received:n},{data:t}),L;var i=!1;try{for(var a=b(this._def.checks),u=a.next();!u.done;u=a.next()){var s=u.value;if("min"===s.kind)t.length<s.value&&(i=!0,this._addIssue(e,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,message:s.message},{data:t}));else if("max"===s.kind)t.length>s.value&&(i=!0,this._addIssue(e,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,message:s.message},{data:t}));else if("email"===s.kind)K.test(t)||(i=!0,this._addIssue(e,{validation:"email",code:T.invalid_string,message:s.message},{data:t}));else if("uuid"===s.kind)G.test(t)||(i=!0,this._addIssue(e,{validation:"uuid",code:T.invalid_string,message:s.message},{data:t}));else if("cuid"===s.kind)H.test(t)||(i=!0,this._addIssue(e,{validation:"cuid",code:T.invalid_string,message:s.message},{data:t}));else if("url"===s.kind)try{new URL(t)}catch(n){i=!0,this._addIssue(e,{validation:"url",code:T.invalid_string,message:s.message},{data:t})}else"regex"===s.kind&&(s.regex.lastIndex=0,s.regex.test(t)||(i=!0,this._addIssue(e,{validation:"regex",code:T.invalid_string,message:s.message},{data:t})))}}catch(n){r={error:n}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i?L:M(t)},t.prototype._addCheck=function(e){return new t(g(g({},this._def),{checks:E(this._def.checks,[e])}))},t.prototype.email=function(e){return this._addCheck(g({kind:"email"},O.errToObj(e)))},t.prototype.url=function(e){return this._addCheck(g({kind:"url"},O.errToObj(e)))},t.prototype.uuid=function(e){return this._addCheck(g({kind:"uuid"},O.errToObj(e)))},t.prototype.cuid=function(e){return this._addCheck(g({kind:"cuid"},O.errToObj(e)))},t.prototype.regex=function(e,t){return this._addCheck(g({kind:"regex",regex:e},O.errToObj(t)))},t.prototype.min=function(e,t){return this._addCheck(g({kind:"min",value:e},O.errToObj(t)))},t.prototype.max=function(e,t){return this._addCheck(g({kind:"max",value:e},O.errToObj(t)))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},Object.defineProperty(t.prototype,"isEmail",{get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isURL",{get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUUID",{get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCUID",{get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){var e=-1/0;return this._def.checks.map((function(t){"min"===t.kind&&(null===e||t.value>e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){var e=null;return this._def.checks.map((function(t){"max"===t.kind&&(null===e||t.value<e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),t.create=function(e){return new t(g({checks:[],typeName:be.ZodString},W(e)))},t}(z),$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.min=t.gte,t.max=t.lte,t.step=t.multipleOf,t}return y(t,e),t.prototype._parse=function(e,t,n){var r,o;if(n!==I.number)return this._addIssue(e,{code:T.invalid_type,expected:I.number,received:n},{data:t}),L;var i=!1;try{for(var a=b(this._def.checks),u=a.next();!u.done;u=a.next()){var s=u.value;"int"===s.kind?v.isInteger(t)||(i=!0,this._addIssue(e,{code:T.invalid_type,expected:"integer",received:"float",message:s.message},{data:t})):"min"===s.kind?(s.inclusive?t<s.value:t<=s.value)&&(i=!0,this._addIssue(e,{code:T.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,message:s.message},{data:t})):"max"===s.kind?(s.inclusive?t>s.value:t>=s.value)&&(i=!0,this._addIssue(e,{code:T.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,message:s.message},{data:t})):"multipleOf"===s.kind?t%s.value!=0&&(i=!0,this._addIssue(e,{code:T.not_multiple_of,multipleOf:s.value,message:s.message},{data:t})):v.assertNever(s)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i?L:M(t)},t.prototype.gte=function(e,t){return this.setLimit("min",e,!0,O.toString(t))},t.prototype.gt=function(e,t){return this.setLimit("min",e,!1,O.toString(t))},t.prototype.lte=function(e,t){return this.setLimit("max",e,!0,O.toString(t))},t.prototype.lt=function(e,t){return this.setLimit("max",e,!1,O.toString(t))},t.prototype.setLimit=function(e,n,r,o){return new t(g(g({},this._def),{checks:E(this._def.checks,[{kind:e,value:n,inclusive:r,message:O.toString(o)}])}))},t.prototype._addCheck=function(e){return new t(g(g({},this._def),{checks:E(this._def.checks,[e])}))},t.prototype.int=function(e){return this._addCheck({kind:"int",message:O.toString(e)})},t.prototype.positive=function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:O.toString(e)})},t.prototype.negative=function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:O.toString(e)})},t.prototype.nonpositive=function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:O.toString(e)})},t.prototype.nonnegative=function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:O.toString(e)})},t.prototype.multipleOf=function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:O.toString(t)})},Object.defineProperty(t.prototype,"minValue",{get:function(){var e,t,n=null;try{for(var r=b(this._def.checks),o=r.next();!o.done;o=r.next()){var i=o.value;"min"===i.kind&&(null===n||i.value>n)&&(n=i.value)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){var e,t,n=null;try{for(var r=b(this._def.checks),o=r.next();!o.done;o=r.next()){var i=o.value;"max"===i.kind&&(null===n||i.value<n)&&(n=i.value)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInt",{get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind}))},enumerable:!1,configurable:!0}),t.create=function(e){return new t(g(g({checks:[],typeName:be.ZodNumber},W(e)),W(e)))},t}(z),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n!==I.bigint?(this._addIssue(e,{code:T.invalid_type,expected:I.bigint,received:n},{data:t}),L):M(t)},t.create=function(e){return new t(g({typeName:be.ZodBigInt},W(e)))},t}(z),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n!==I.boolean?(this._addIssue(e,{code:T.invalid_type,expected:I.boolean,received:n},{data:t}),L):M(t)},t.create=function(e){return new t(g({typeName:be.ZodBoolean},W(e)))},t}(z),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n!==I.date?(this._addIssue(e,{code:T.invalid_type,expected:I.date,received:n},{data:t}),L):isNaN(t.getTime())?(this._addIssue(e,{code:T.invalid_date},{data:t}),L):M(new Date(t.getTime()))},t.create=function(e){return new t(g({typeName:be.ZodDate},W(e)))},t}(z),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n!==I.undefined?(this._addIssue(e,{code:T.invalid_type,expected:I.undefined,received:n},{data:t}),L):M(t)},t.create=function(e){return new t(g({typeName:be.ZodUndefined},W(e)))},t}(z),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n!==I.null?(this._addIssue(e,{code:T.invalid_type,expected:I.null,received:n},{data:t}),L):M(t)},t.create=function(e){return new t(g({typeName:be.ZodNull},W(e)))},t}(z),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._any=!0,t}return y(t,e),t.prototype._parse=function(e,t,n){return M(t)},t.create=function(e){return new t(g({typeName:be.ZodAny},W(e)))},t}(z),re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._unknown=!0,t}return y(t,e),t.prototype._parse=function(e,t,n){return M(t)},t.create=function(e){return new t(g({typeName:be.ZodUnknown},W(e)))},t}(z),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return this._addIssue(e,{code:T.invalid_type,expected:I.never,received:n},{data:t}),L},t.create=function(e){return new t(g({typeName:be.ZodNever},W(e)))},t}(z),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n!==I.undefined?(this._addIssue(e,{code:T.invalid_type,expected:I.void,received:n},{data:t}),L):M(t)},t.create=function(e){return new t(g({typeName:be.ZodVoid},W(e)))},t}(z),ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){var r=this._def;if(n!==I.array)return e.addIssue(t,{code:T.invalid_type,expected:I.array,received:n}),L;t=t;var o=!1;null!==r.minLength&&t.length<r.minLength.value&&(o=!0,this._addIssue(e,{code:T.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,message:r.minLength.message},{data:t})),null!==r.maxLength&&t.length>r.maxLength.value&&(o=!0,this._addIssue(e,{code:T.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,message:r.maxLength.message},{data:t}));var i=[],a=new Array(t.length),u=r.type,s=function(e,t){Z(t)?a[e]=t.value:B(t)?o=!0:i.push(t.then((function(t){return s(e,t)})))};return t.forEach((function(t,n){s(n,u._parse(e.stepInto(n),t,C(t)))})),e.async?Promise.all(i).then((function(){return o?L:M(a)})):o?L:M(a)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.type},enumerable:!1,configurable:!0}),t.prototype.min=function(e,n){return new t(g(g({},this._def),{minLength:{value:e,message:O.toString(n)}}))},t.prototype.max=function(e,n){return new t(g(g({},this._def),{maxLength:{value:e,message:O.toString(n)}}))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},t.prototype.nonempty=function(e){return this.min(1,e)},t.create=function(e,n){return new t(g({type:e,minLength:null,maxLength:null,typeName:be.ZodArray},W(n)))},t}(z);!function(e){e.mergeShapes=function(e,t){return g(g({},e),t)},e.intersectShapes=function(e,t){var n,r,o=v.objectKeys(e),i=v.objectKeys(t),a=(o=o.filter((function(e){return-1!==i.indexOf(e)})),{});try{for(var u=b(o),s=u.next();!s.done;s=u.next()){var c=s.value;a[c]=pe.create(e[c],t[c])}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return g(g(g({},e),t),a)}}(V=V||{});var ue=function(e){return function(t){return new ce(g(g({},e),{shape:function(){return g(g({},e.shape()),t)}}))}};function se(e){if(e instanceof ce){var t,n={};for(t in e.shape){var r=e.shape[t];n[t]=Te.create(se(r))}return new ce(g(g({},e._def),{shape:function(){return n}}))}return e instanceof ae?ae.create(se(e.element)):e instanceof Te?Te.create(se(e.unwrap())):e instanceof Ae?Ae.create(se(e.unwrap())):e instanceof de?de.create(e.items.map((function(e){return se(e)}))):e}var ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cached=null,t.nonstrict=t.passthrough,t.augment=ue(t._def),t.extend=ue(t._def),t}return y(t,e),t.prototype._getCached=function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=v.objectKeys(e);return this._cached={shape:e,keys:t}},t.prototype._parse=function(e,t,n){var r,o,i,a,u;if(n!==I.object)return this._addIssue(e,{code:T.invalid_type,expected:I.object,received:n},{data:t}),L;var s=(n=this._getCached()).shape,c=(n=n.keys,!1),f=[],l={},p=function(e,n){var r;Z(n)?(void 0!==(r=n.value)||e in t)&&(l[e]=r):B(n)?c=!0:f.push(n.then((function(t){return p(e,t)})))};try{for(var d=b(n),h=d.next();!h.done;h=d.next()){var y=h.value,m=s[y],g=t[y];p(y,m._parse(e.stepInto(y),g,C(g)))}}catch(e){_={error:e}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(_)throw _.error}}if(this._def.catchall instanceof oe){var _=this._def.unknownKeys;if("passthrough"===_){var w=v.objectKeys(t).filter((function(e){return!(e in s)}));try{for(var x=b(w),E=x.next();!E.done;E=x.next())y=E.value,l[y]=t[y]}catch(e){o={error:e}}finally{try{E&&!E.done&&(i=x.return)&&i.call(x)}finally{if(o)throw o.error}}}else if("strict"===_)0<(w=v.objectKeys(t).filter((function(e){return!(e in s)}))).length&&(c=!0,this._addIssue(e,{code:T.unrecognized_keys,keys:w},{data:t}));else if("strip"!==_)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var O=this._def.catchall;w=v.objectKeys(t).filter((function(e){return!(e in s)}));try{for(var S=b(w),A=S.next();!A.done;A=S.next())y=A.value,g=t[y],p(y,O._parse(e.stepInto(y),g,C(g)))}catch(e){a={error:e}}finally{try{A&&!A.done&&(u=S.return)&&u.call(S)}finally{if(a)throw a.error}}}return e.async?Promise.all(f).then((function(){return c?L:M(l)})):c?L:M(l)},Object.defineProperty(t.prototype,"shape",{get:function(){return this._def.shape()},enumerable:!1,configurable:!0}),t.prototype.strict=function(){return new t(g(g({},this._def),{unknownKeys:"strict"}))},t.prototype.strip=function(){return new t(g(g({},this._def),{unknownKeys:"strip"}))},t.prototype.passthrough=function(){return new t(g(g({},this._def),{unknownKeys:"passthrough"}))},t.prototype.setKey=function(e,t){var n;return this.augment(((n={})[e]=t,n))},t.prototype.merge=function(e){var n=V.mergeShapes(this._def.shape(),e._def.shape());return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return n},typeName:be.ZodObject})},t.prototype.catchall=function(e){return new t(g(g({},this._def),{catchall:e}))},t.prototype.pick=function(e){var n=this,r={};return v.objectKeys(e).map((function(e){r[e]=n.shape[e]})),new t(g(g({},this._def),{shape:function(){return r}}))},t.prototype.omit=function(e){var n=this,r={};return v.objectKeys(this.shape).map((function(t){-1===v.objectKeys(e).indexOf(t)&&(r[t]=n.shape[t])})),new t(g(g({},this._def),{shape:function(){return r}}))},t.prototype.deepPartial=function(){return se(this)},t.prototype.partial=function(e){var n,r=this,o={};if(e)return v.objectKeys(this.shape).map((function(t){-1===v.objectKeys(e).indexOf(t)?o[t]=r.shape[t]:o[t]=r.shape[t].optional()})),new t(g(g({},this._def),{shape:function(){return o}}));for(n in this.shape){var i=this.shape[n];o[n]=i.optional()}return new t(g(g({},this._def),{shape:function(){return o}}))},t.prototype.required=function(){var e,n={};for(e in this.shape){for(var r=this.shape[e];r instanceof Te;)r=r._def.innerType;n[e]=r}return new t(g(g({},this._def),{shape:function(){return n}}))},t.create=function(e,n){return new t(g({shape:function(){return e},unknownKeys:"strip",catchall:oe.create(),typeName:be.ZodObject},W(n)))},t.strictCreate=function(e,n){return new t(g({shape:function(){return e},unknownKeys:"strict",catchall:oe.create(),typeName:be.ZodObject},W(n)))},t.lazycreate=function(e,n){return new t(g({shape:e,unknownKeys:"strip",catchall:oe.create(),typeName:be.ZodObject},W(n)))},t}(z),fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){function r(n){var r=n.map((function(e){return new A(e)}));return 1===(n=r.filter((function(e){return"invalid_type"!==e.issues[0].code}))).length?n[0].issues.forEach((function(t){return e.issues.push(t)})):a._addIssue(e,{code:T.invalid_union,unionErrors:r},{data:t}),L}var o,i,a=this,u=this._def.options;if(e.async){var s=u.map((function(){return new D(g(g({},e.def),{issues:[]}))}));return Promise.all(u.map((function(e,r){return e._parse(s[r],t,n)}))).then((function(e){var t,n;try{for(var o=b(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(Z(a))return a}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r(s.map((function(e){return e.issues})))}))}var c=[];try{for(var f=b(u),l=f.next();!l.done;l=f.next()){var p=l.value,d=new D(g(g({},e.def),{issues:[]})),h=p._parseSync(d,t,n);if(!B(h))return h;c.push(d.issues)}}catch(i){o={error:i}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}return r(c)},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.options},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(g({options:e,typeName:be.ZodUnion},W(n)))},t}(z);function le(e,t){var n,r,o=C(e),i=C(t);if(e===t)return{valid:!0,data:e};if(o!==I.object||i!==I.object)return{valid:!1};var a=v.objectKeys(t),u=(i=v.objectKeys(e).filter((function(e){return-1!==a.indexOf(e)})),g(g({},e),t));try{for(var s=b(i),c=s.next();!c.done;c=s.next()){var f=c.value,l=le(e[f],t[f]);if(!l.valid)return{valid:!1};u[f]=l.data}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return{valid:!0,data:u}}var pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){function r(n,r){return B(n)||B(r)?L:(r=le(n.value,r.value)).valid?M(r.data):(o._addIssue(e,{code:T.invalid_intersection_types},{data:t}),L)}var o=this;return e.async?Promise.all([this._def.left._parse(e,t,n),this._def.right._parse(e,t,n)]).then((function(e){var t;return r(e=(t=x(e,2))[0],t=t[1])})):r(this._def.left._parseSync(e,t,n),this._def.right._parseSync(e,t,n))},t.create=function(e,n,r){return new t(g({left:e,right:n,typeName:be.ZodIntersection},W(r)))},t}(z),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){if(n!==I.array)return this._addIssue(e,{code:T.invalid_type,expected:I.array,received:n},{data:t}),L;var r=this._def.rest;if(!r&&t.length>this._def.items.length)return this._addIssue(e,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"},{data:t}),L;if(t.length<this._def.items.length)return this._addIssue(e,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"},{data:t}),L;var o=[],i=this._def.items,a=new Array(t.length),u=!1,s=function(e,t){Z(t)?a[e]=t.value:B(t)?u=!0:o.push(t.then((function(t){return s(e,t)})))};return i.forEach((function(n,r){s(r,n._parse(e.stepInto(r),t[r],C(t[r])))})),r&&t.slice(i.length).forEach((function(t,n){n+=i.length,s(n,r._parse(e.stepInto(n),t,C(t)))})),e.async?Promise.all(o).then((function(){return u?L:M(a)})):u?L:M(a)},Object.defineProperty(t.prototype,"items",{get:function(){return this._def.items},enumerable:!1,configurable:!0}),t.prototype.rest=function(e){return new t(g(g({},this._def),{rest:e}))},t.create=function(e,n){return new t(g({items:e,typeName:be.ZodTuple,rest:null},W(n)))},t}(z),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),Object.defineProperty(t.prototype,"keySchema",{get:function(){return this._def.keyType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueSchema",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.prototype._parse=function(e,t,n){if(n!==I.object)return this._addIssue(e,{code:T.invalid_type,expected:I.object,received:n},{data:t}),L;var r,o=[],i=this._def.keyType,a=this._def.valueType,u={},s=!1,c=function(e,t){Z(e)&&Z(t)?u[e.value]=t.value:U(e)||U(t)?o.push(Promise.all([e,t]).then((function(e){e=(t=x(e,2))[0];var t=t[1];return c(e,t)}))):s=!0};for(r in t)c(i._parse(e.stepInto(r),r,C(r)),a._parse(e.stepInto(r),t[r],C(t[r])));return e.async?Promise.all(o).then((function(){return s?L:M(u)})):s?L:M(u)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.create=function(e,n,r){return new t(n instanceof z?g({keyType:e,valueType:n,typeName:be.ZodRecord},W(r)):g({keyType:J.create(),valueType:e,typeName:be.ZodRecord},W(n)))},t}(z),ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){if(n!==I.map)return this._addIssue(e,{code:T.invalid_type,expected:I.map,received:n},{data:t}),L;var r=this._def.keyType,o=this._def.valueType,i=(t=t,new Map),a=[],u=!1,s=function(e,t){U(e)||U(t)?a.push(Promise.all([e,t]).then((function(e){e=(t=x(e,2))[0];var t=t[1];return s(e,t)}))):B(e)||B(t)?u=!0:i.set(e.value,t.value)};return E(t.entries()).forEach((function(t,n){t=(i=x(t,2))[0];var i=i[1];n=e.stepInto(n),t=r._parse(n.stepInto("key"),t,C(t)),i=o._parse(n.stepInto("value"),i,C(i)),s(t,i)})),e.async?Promise.all(a).then((function(){return u?L:M(i)})):u?L:M(i)},t.create=function(e,n,r){return new t(g({valueType:n,keyType:e,typeName:be.ZodMap},W(r)))},t}(z),ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){if(n!==I.set)return this._addIssue(e,{code:T.invalid_type,expected:I.set,received:n},{data:t}),L;t=t;var r=this._def.valueType,o=new Set,i=[],a=!1,u=function(e){Z(e)?o.add(e.value):B(e)?a=!0:i.push(e.then((function(e){return u(e)})))};return E(t.values()).forEach((function(t,n){return u(r._parse(e.stepInto(n),t,C(t)))})),e.async?Promise.all(i).then((function(){return a?L:M(o)})):a?L:M(o)},t.create=function(e,n){return new t(g({valueType:e,typeName:be.ZodSet},W(n)))},t}(z),me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validate=t.implement,t}return y(t,e),t.prototype._parse=function(e,t,n){var r=this;if(n!==I.function)return this._addIssue(e,{code:T.invalid_type,expected:I.function,received:n},{data:t}),L;function o(t,n){return P({data:t,path:N(e.path),errorMaps:[e.errorMap],issueData:{code:T.invalid_arguments,argumentsError:n}})}function i(t,n){return P({data:t,path:N(e.path),errorMaps:[e.errorMap],issueData:{code:T.invalid_return_type,returnTypeError:n}})}var a={errorMap:e.errorMap},u=t;return this._def.returns instanceof Oe?M((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _(r,void 0,void 0,(function(){var t,n,r;return w(this,(function(s){switch(s.label){case 0:return t=new A([]),[4,this._def.args.parseAsync(e,a).catch((function(n){throw t.addIssue(o(e,n)),t}))];case 1:return n=s.sent(),[4,u.apply(void 0,E(n))];case 2:return r=s.sent(),[4,this._def.returns.parseAsync(r,a).catch((function(e){throw t.addIssue(i(r,e)),t}))];case 3:return[2,s.sent()]}}))}))})):M((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!(n=r._def.args.safeParse(e,a)).success)throw new A([o(e,n.error)]);var n,s=u.apply(void 0,E(n.data));if(!(n=r._def.returns.safeParse(s,a)).success)throw new A([i(s,n.error)]);return n.data}))},t.prototype.parameters=function(){return this._def.args},t.prototype.returnType=function(){return this._def.returns},t.prototype.args=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(g(g({},this._def),{args:de.create(e).rest(re.create())}))},t.prototype.returns=function(e){return new t(g(g({},this._def),{returns:e}))},t.prototype.implement=function(e){return this.parse(e)},t.prototype.strictImplement=function(e){return this.parse(e)},t.create=function(e,n,r){return new t(g({args:(e||de.create([])).rest(re.create()),returns:n||re.create(),typeName:be.ZodFunction},W(r)))},t}(z),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),Object.defineProperty(t.prototype,"schema",{get:function(){return this._def.getter()},enumerable:!1,configurable:!0}),t.prototype._parse=function(e,t,n){return this._def.getter()._parse(e,t,n)},t.create=function(e,n){return new t(g({getter:e,typeName:be.ZodLazy},W(n)))},t}(z),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return t!==this._def.value?(this._addIssue(e,{code:T.invalid_type,expected:this._def.value,received:t},{data:t}),L):M(t)},Object.defineProperty(t.prototype,"value",{get:function(){return this._def.value},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(g({value:e,typeName:be.ZodLiteral},W(n)))},t}(z);function we(e){return new xe({values:e,typeName:be.ZodEnum})}var be,xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return-1===this._def.values.indexOf(t)?(this._addIssue(e,{code:T.invalid_enum_value,options:this._def.values},{data:t}),L):M(t)},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enum",{get:function(){var e,t,n={};try{for(var r=b(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Values",{get:function(){var e,t,n={};try{for(var r=b(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Enum",{get:function(){var e,t,n={};try{for(var r=b(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),t.create=we,t}(z),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){var r=v.getValidEnumValues(this._def.values);return-1===r.indexOf(t)?(this._addIssue(e,{code:T.invalid_enum_value,options:v.objectValues(r)},{data:t}),L):M(t)},t.create=function(e,n){return new t(g({values:e,typeName:be.ZodNativeEnum},W(n)))},t}(z),Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){var r=this;return n!==I.promise&&!1===e.async?(this._addIssue(e,{code:T.invalid_type,expected:I.promise,received:n},{data:t}),L):(t=n===I.promise?t:Promise.resolve(t),M(t.then((function(t){return r._def.type.parseAsync(t,{path:N(e.path),errorMap:e.errorMap})}))))},t.create=function(e,n){return new t(g({type:e,typeName:be.ZodPromise},W(n)))},t}(z),Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.innerType=function(){return this._def.schema},t.prototype._parse=function(e,t,n){var r=this,o=!1===e.async,i=this._def.effect||null,a=t;if(n=n,"preprocess"===i.type){var u=i.transform(t);if(e.async)return Promise.resolve(u).then((function(t){return r._def.schema._parseAsync(e,t,C(t))}));if((u=this._def.schema._parseSync(e,u,C(u)))instanceof Promise)throw new Error("Asynchronous preprocess step encountered during synchronous parse operation. Use .parseAsync instead.");return u}if("refinement"===i.type){function t(e,t){if((t=t.refinement(e,s))instanceof Promise){if(o)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return t.then((function(){return e}))}return e}var s={addIssue:function(t){r._addIssue(e,t,{data:a})},get path(){return N(e.path)}};if(s.addIssue=s.addIssue.bind(s),o){var c=this._def.schema._parseSync(e,a,n);return B(c)?L:(u=t(c.value,i),M(u))}return this._def.schema._parseAsync(e,a,n).then((function(e){return B(e)?L:t(e.value,i)})).then((function(e){return M(e)}))}if("transform"===i.type){function t(e,t){if((e=t.transform(e))instanceof Promise&&o)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return e}return o?(c=this._def.schema._parseSync(e,a,n),B(c)?L:(u=t(c.value,i),M(u))):this._def.schema._parseAsync(e,a,n).then((function(e){return B(e)?L:t(e.value,i)})).then((function(e){return M(e)}))}v.assertNever(i)},t.create=function(e,n,r){return new t(g({schema:e,typeName:be.ZodEffects,effect:n},W(r)))},t.createWithPreprocess=function(e,n,r){return new t(g({schema:n,effect:{type:"preprocess",transform:e},typeName:be.ZodEffects},W(r)))},t}(z),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n===I.undefined?M(void 0):this._def.innerType._parse(e,t,n)},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,n){return new t(g({innerType:e,typeName:be.ZodOptional},W(n)))},t}(z),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n===I.null?M(null):this._def.innerType._parse(e,t,n)},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,n){return new t(g({innerType:e,typeName:be.ZodNullable},W(n)))},t}(z),je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype._parse=function(e,t,n){return n===I.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse(e,t,C(t))},t.prototype.removeDefault=function(){return this._def.innerType},t.create=function(e,t){return new Te(g({innerType:e,typeName:be.ZodOptional},W(t)))},t}(z),ke=function(e,t){return e?ne.create().refine(e,t):ne.create()},Ie={object:ce.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise"}(be=be||{});var Ce=J.create,Pe=$.create,Ne=X.create,Re=Y.create,De=Q.create,Le=ee.create,Me=te.create,Be=ne.create,Ze=re.create,Ue=oe.create,qe=ie.create,Fe=ae.create,We=ce.create,Ve=ce.strictCreate,ze=fe.create,He=pe.create,Ge=de.create,Ke=he.create,Je=ye.create,$e=ve.create,Xe=me.create,Ye=ge.create,Qe=_e.create,et=xe.create,tt=Ee.create,nt=Oe.create,rt=Se.create,ot=Te.create,it=Ae.create,at=Se.createWithPreprocess,ut=(Object.freeze({__proto__:null,ZodParsedType:I,getParsedType:C,makeIssue:P,EMPTY_PATH:null,pathToArray:N,pathFromArray:R,ParseContext:D,INVALID:L,OK:M,isInvalid:B,isOk:Z,isAsync:U,ZodType:z,ZodString:J,ZodNumber:$,ZodBigInt:X,ZodBoolean:Y,ZodDate:Q,ZodUndefined:ee,ZodNull:te,ZodAny:ne,ZodUnknown:re,ZodNever:oe,ZodVoid:ie,ZodArray:ae,get objectUtil(){return V},mergeObjects:function(e){return function(t){var n=V.mergeShapes(e._def.shape(),t._def.shape());return new ce({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return n},typeName:be.ZodObject})}},ZodObject:ce,ZodUnion:fe,ZodIntersection:pe,ZodTuple:de,ZodRecord:he,ZodMap:ye,ZodSet:ve,ZodFunction:me,ZodLazy:ge,ZodLiteral:_e,ZodEnum:xe,ZodNativeEnum:Ee,ZodPromise:Oe,ZodEffects:Se,ZodTransformer:Se,ZodOptional:Te,ZodNullable:Ae,ZodDefault:je,custom:ke,Schema:z,ZodSchema:z,late:Ie,get ZodFirstPartyTypeKind(){return be},any:Be,array:Fe,bigint:Ne,boolean:Re,date:De,effect:rt,enum:et,function:Xe,instanceof:function(e,t){return void 0===t&&(t={message:"Input not instance of "+e.name}),ke((function(t){return t instanceof e}),t)},intersection:He,lazy:Ye,literal:Qe,map:Je,nativeEnum:tt,never:Ue,null:Me,nullable:it,number:Pe,object:We,oboolean:function(){return Re().optional()},onumber:function(){return Pe().optional()},optional:ot,ostring:function(){return Ce().optional()},preprocess:at,promise:nt,record:Ke,set:$e,strictObject:Ve,string:Ce,transformer:rt,tuple:Ge,undefined:Le,union:ze,unknown:Ze,void:qe,ZodIssueCode:T,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:A,defaultErrorMap:j,get overrideErrorMap(){return k},setErrorMap:function(e){k=e}}),n(486)),st=n.n(ut);const ct=("undefined"!=typeof process?process.env:n.g).FAUNA_ADMIN_KEY||"";function ft(e,t){const n=null==t?void 0:t.signal;null==t||delete t.signal;const r=new Promise((e=>{n&&(n.onabort=e)}));return Promise.race([r,fetch(e,t)])}function lt(e){return{id:e.ref.value.id,ts:e.ts,...e.data}}var pt,dt;!function(e){var t;let n,r,o;e.fauna=(t={secret:ct,domain:"localhost",port:8443,scheme:"http"},new(d().Client)({fetch:"undefined"==typeof fetch?void 0:ft,...t})),e.querySingle=async function(t){return lt(await e.fauna.query(t))},e.query=async function(t){return(await e.fauna.query(t)).data.map(lt)},function(t){t.get=async function(t){return await e.querySingle((0,p.Get)((0,p.Ref)((0,p.Collection)("users"),t)))},t.getByEmail=async function(t){return await e.querySingle((0,p.Get)((0,p.Match)((0,p.Index)("users_by_email"),t)))},t.listAll=async function(){return await e.query((0,p.Map)((0,p.Paginate)((0,p.Documents)((0,p.Collection)("users"))),(0,p.Lambda)("id",(0,p.Get)((0,p.Var)("id")))))},t.create=async function(t){return await e.querySingle((0,p.Create)((0,p.Collection)("users"),{credentials:{password:t.password},data:st().omit(t,"password")}))},t.update=async function(t,n){return await e.querySingle((0,p.Update)((0,p.Ref)((0,p.Collection)("users"),t),{data:n}))}}(n=e.users||(e.users={})),function(t){t.RefPattern=async function(e){return(0,p.Ref)((0,p.Collection)("patterns"),e)},t.get=async function(t){return await e.querySingle((0,p.Get)((0,p.Ref)((0,p.Collection)("patterns"),t)))},t.listAll=async function(){return await e.query((0,p.Map)((0,p.Paginate)((0,p.Documents)((0,p.Collection)("patterns"))),(0,p.Lambda)("ref",(0,p.Get)((0,p.Var)("ref")))))},t.create=async function(t){return await e.querySingle((0,p.Create)((0,p.Collection)("patterns"),{data:t}))},t.update=async function(t,n){return await e.querySingle((0,p.Update)((0,p.Ref)((0,p.Collection)("patterns"),t),{data:n}))},t.destroy=async function(t){await e.fauna.query((0,p.Delete)((0,p.Ref)((0,p.Collection)("patterns"),t)))}}(r=e.patterns||(e.patterns={})),function(t){function n(e,t){return(0,p.Match)((0,p.Index)("progress_by_user_and_pattern"),[(0,p.Ref)((0,p.Collection)("users"),e),(0,p.Ref)((0,p.Collection)("patterns"),t)])}t.get=async function(t,r){try{return await e.querySingle((0,p.Get)(n(t,r)))}catch(e){if("document not found"===e.code)return null;throw e}},t.learnPattern=async function(t,r){const o=(0,p.Let)({progress:n(t,r)},(0,p.If)((0,p.Exists)((0,p.Var)("progress")),(0,p.Get)((0,p.Var)("progress")),(0,p.Create)((0,p.Collection)("progress"),{data:{userRef:(0,p.Ref)((0,p.Collection)("users"),t),patternRef:(0,p.Ref)((0,p.Collection)("patterns"),r),initiallyLearnedAt:(0,p.Now)(),lastReviewedAt:(0,p.Now)(),srsLevel:1}})));return await e.querySingle(o)}}(o=e.progress||(e.progress={}))}(pt||(pt={}));var ht=new Uint8Array(16);function yt(){if(!dt&&!(dt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dt(ht)}const vt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,mt=function(e){return"string"==typeof e&&vt.test(e)};for(var gt=[],_t=0;_t<256;++_t)gt.push((_t+256).toString(16).substr(1));const wt=function(e,t,n){var r=(e=e||{}).random||(e.rng||yt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(gt[e[t+0]]+gt[e[t+1]]+gt[e[t+2]]+gt[e[t+3]]+"-"+gt[e[t+4]]+gt[e[t+5]]+"-"+gt[e[t+6]]+gt[e[t+7]]+"-"+gt[e[t+8]]+gt[e[t+9]]+"-"+gt[e[t+10]]+gt[e[t+11]]+gt[e[t+12]]+gt[e[t+13]]+gt[e[t+14]]+gt[e[t+15]]).toLowerCase();if(!mt(n))throw TypeError("Stringified UUID is invalid");return n}(r)};var bt=n(489);const xt=new class{async getText(e){return await STORE.get(e,"text")}async getJson(e){return await STORE.get(e,"json")}async putText(e,t,n){return(null==n?void 0:n.expirationTtl)&&(n={expirationTtl:Math.floor(n.expirationTtl/1e3)}),await STORE.put(e,t,n)}async putJson(e,t,n){(null==n?void 0:n.expirationTtl)&&(n={expirationTtl:Math.floor(n.expirationTtl/1e3)}),await STORE.put(e,JSON.stringify(t),n)}async delete(e){try{await STORE.delete(e)}catch(e){console.error(e)}}};var Et;!function(e){e.get=async function(e){const t=await xt.getJson(`sessions:${e}`);return null===t?null:Object.assign({},{key:e},t)},e.create=async function(e){const t=wt();return await xt.putJson(`sessions:${t}`,{userId:e},{expirationTtl:24192e5}),t},e.expire=async function(e){return await xt.delete(`sessions:${e}`)},e.asCookie=function(e){return bt.q("sessionKey",e,{httpOnly:!0,maxAge:18144e5})}}(Et||(Et={}));const Ot=We({email:Ce().email(),password:Ce()}).refine((e=>e.password.length>=12),{message:"Password must be at least length 12",path:["password"]}),St=We({email:Ce(),password:Ce()}),Tt=We({title:Ce(),slug:Ce(),explanation:Ce(),exercises:Fe(We({content:Ce(),translation:Ce()})).min(1)});class At extends Error{constructor(e,t){super(t),this.code=e}}const jt=new class{constructor(){this.worktopRouter=new l}add(e,t,n){this.worktopRouter.add(e,t,(async(e,t)=>{const r=bt.Q(e.headers.get("cookie")||"").sessionKey,o=r?await Et.get(r):null,i=e;i.session=o;try{const e=await n(i,t);e&&t.send(200,e)}catch(e){if(console.error(e),e instanceof At)t.send(e.code,e.message);else if("requestResult"in e){const n=pt.getFaunaError(e);t.send(n.status,n)}else t.send(500,e.stack)}}))}};jt.add("POST","/api/signup",(async function(e,t){const{email:n,password:r}=Ot.parse(await e.body()),o=await pt.users.create({email:n,password:r,isAdmin:!1}),i=await Et.create(o.id);return t.headers.set("Set-Cookie",Et.asCookie(i)),o})),jt.add("POST","/api/login",(async function(e,t){const{email:n,password:r}=St.parse(await e.body()),o=await pt.fauna.query((0,p.Login)((0,p.Match)((0,p.Index)("users_by_email"),n),{password:r})),i=await pt.users.get(o.instance.value.id),a=await Et.create(i.id);return t.headers.set("Set-Cookie",Et.asCookie(a)),i})),jt.add("POST","/api/logout",(async function(e){e.session&&await Et.expire(e.session.key)}));const kt=new class{constructor(e){this.parentRouter=e}add(e,t,n){this.parentRouter.add(e,t,(async(e,t)=>{if(!e.session)throw new At(401,"Login required");return n(e,t)}))}}(jt);kt.add("GET","/api/status",(async function(e){return{user:await pt.users.get(e.session.userId)}})),kt.add("GET","/api/progress/nextLesson",(async function(e){return(await pt.patterns.listAll())[0]})),kt.add("POST","/api/progress/learn/:patternId",(async function(e){return await pt.progress.learnPattern(e.session.userId,e.params.patternId)}));const It=new class{constructor(e){this.parentRouter=e}add(e,t,n){this.parentRouter.add(e,t,(async(e,t)=>{const r=await pt.users.get(e.session.userId);if(!r||!r.isAdmin)throw new At(403,"Forbidden");const o=e;return o.user=r,n(o,t)}))}}(kt);var Ct;It.add("GET","/api/admin/patterns/:id",(async function(e){return await pt.patterns.get(e.params.id)})),It.add("GET","/api/admin/patterns",(async function(e){return await pt.patterns.listAll()})),It.add("POST","/api/admin/patterns",(async function(e){const t=Tt.parse(await e.body());return await pt.patterns.create(t)})),It.add("PATCH","/api/admin/patterns/:id",(async function(e){const t=Tt.partial().parse(await e.body());return await pt.patterns.update(e.params.id,t)})),It.add("DELETE","/api/admin/patterns/:id",(async function(e){await pt.patterns.destroy(e.params.id)})),It.add("GET","/api/admin/users",(async function(e){return await pt.users.listAll()})),Ct=jt.worktopRouter.run,addEventListener("fetch",function(e){return t=>t.respondWith(e(t))}(Ct))})()})();